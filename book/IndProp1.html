<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="common/css/sf.css" rel="stylesheet" type="text/css" />
<title>IndProp1: Inductively Defined Propositions: part 1</title>
<link href="common/jquery-ui/jquery-ui.css" rel="stylesheet">
<script src="common/jquery-ui/external/jquery/jquery.js"></script>
<script src="common/jquery-ui/jquery-ui.js"></script>
<script src="common/toggleproofs.js"></script>
<link href="common/css/lf.css" rel="stylesheet" type="text/css"/>
</head>

<body>

<div id="page">

<div id="header">
<div id='logoinheader'><a href='https://softwarefoundations.cis.upenn.edu'>
<img src='common/media/image/sf_logo_sm.png' alt='Software Foundations Logo'></a></div>
<div class='booktitleinheader'><a href='index.html'>Volume 1: Logical Foundations</a></div>
<ul id='menu'>
   <li class='section_name'><a href='toc.html'>Table of Contents</a></li>
   <li class='section_name'><a href='coqindex.html'>Index</a></li>
   <li class='section_name'><a href='deps.html'>Roadmap</a></li>
</ul>
</div>

<div id="main">

<h1 class="libtitle">IndProp1: Inductively Defined Propositions<span class="subtitle">part 1</span></h1>


<div class="code">

<span class="id" title="keyword">Set</span> <span class="id" title="var">Warnings</span> "-notation-overridden,-parsing,-deprecated-hint-without-locality".<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">LF</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="Logic.html#"><span class="id" title="library">Logic</span></a>.<br/><hr class='doublespaceincode'/>
</div>

<div class="doc">
<a id="lab230"></a><h1 class="section">Inductively Defined Propositions</h1>

<div class="paragraph"> </div>

 In the <a href="Logic.html"><span class="inlineref">Logic</span></a> chapter, we looked at several ways of writing
    propositions, including conjunction, disjunction, and existential
    quantification.

<div class="paragraph"> </div>

    In this chapter, we bring yet another new tool into the mix:
    <i>inductively defined propositions</i>.

<div class="paragraph"> </div>

    To begin, some examples... 
</div>

<div class="doc">
<a id="lab231"></a><h2 class="section">The Collatz Conjecture</h2>

<div class="paragraph"> </div>

 The <i>Collatz Conjecture</i> is a famous open problem in number
    theory.

<div class="paragraph"> </div>

    Its statement is surprisingly simple.  First, we define a function
    <span class="inlinecode"><span class="id" title="var">f</span></span> on numbers, as follows: 
</div>
<div class="code">

<span class="id" title="keyword">Fixpoint</span> <a id="div2" class="idref" href="#div2"><span class="id" title="definition">div2</span></a> (<a id="n:1" class="idref" href="#n:1"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="IndProp1.html#n:1"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;0 ⇒ 0<br/>
&nbsp;&nbsp;| 1 ⇒ 0<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>) ⇒ <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="IndProp1.html#div2:2"><span class="id" title="definition">div2</span></a> <a class="idref" href="IndProp1.html#n:1"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="f" class="idref" href="#f"><span class="id" title="definition">f</span></a> (<a id="n:4" class="idref" href="#n:4"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="Basics.html#even"><span class="id" title="definition">even</span></a> <a class="idref" href="IndProp1.html#n:4"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="IndProp1.html#div2"><span class="id" title="definition">div2</span></a> <a class="idref" href="IndProp1.html#n:4"><span class="id" title="variable">n</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="Basics.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">(</span></a>3 <a class="idref" href="Basics.html#ea2ff3d561159081cea6fb2e8113cc<sub>54</sub>"><span class="id" title="notation">×</span></a> <a class="idref" href="IndProp1.html#n:4"><span class="id" title="variable">n</span></a><a class="idref" href="Basics.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">)</span></a> <a class="idref" href="Basics.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1.<br/>
</div>

<div class="doc">
Next, we look at what happens when we repeatedly apply <span class="inlinecode"><span class="id" title="var">f</span></span> to some
    given starting number.  For example, <span class="inlinecode"><span class="id" title="var">f</span></span> <span class="inlinecode">12</span> is <span class="inlinecode">6</span>, and <span class="inlinecode"><span class="id" title="var">f</span></span> <span class="inlinecode">6</span> is
    <span class="inlinecode">3</span>, so by repeatedly applying <span class="inlinecode"><span class="id" title="var">f</span></span> we get the sequence <span class="inlinecode">12,</span> <span class="inlinecode">6,</span> <span class="inlinecode">3,</span>
    <span class="inlinecode">10,</span> <span class="inlinecode">5,</span> <span class="inlinecode">16,</span> <span class="inlinecode">8,</span> <span class="inlinecode">4,</span> <span class="inlinecode">2,</span> <span class="inlinecode">1</span>.

<div class="paragraph"> </div>

    Similarly, if we start with <span class="inlinecode">19</span>, we get the longer sequence <span class="inlinecode">19,</span>
    <span class="inlinecode">58,</span> <span class="inlinecode">29,</span> <span class="inlinecode">88,</span> <span class="inlinecode">44,</span> <span class="inlinecode">22,</span> <span class="inlinecode">11,</span> <span class="inlinecode">34,</span> <span class="inlinecode">17,</span> <span class="inlinecode">52,</span> <span class="inlinecode">26,</span> <span class="inlinecode">13,</span> <span class="inlinecode">40,</span> <span class="inlinecode">20,</span> <span class="inlinecode">10,</span> <span class="inlinecode">5,</span> <span class="inlinecode">16,</span> <span class="inlinecode">8,</span>
    <span class="inlinecode">4,</span> <span class="inlinecode">2,</span> <span class="inlinecode">1</span>.

<div class="paragraph"> </div>

    Both of these sequences eventually reach <span class="inlinecode">1</span>.  The question posed
    by Collatz was: Does the sequence starting from <i>any</i> natural
    number eventually reach <span class="inlinecode">1</span>? 
<div class="paragraph"> </div>

 To formalize this question in Coq, we might try to define a
    recursive <i>function</i> that computes the total number of steps that
    it takes for such a sequence to reach <span class="inlinecode">1</span>. 
</div>
<div class="code">

<span class="id" title="var">Fail</span> <span class="id" title="keyword">Fixpoint</span> <a id="reaches1_in" class="idref" href="#reaches1_in"><span class="id" title="definition">reaches1_in</span></a> (<a id="n:5" class="idref" href="#n:5"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="IndProp1.html#n:5"><span class="id" title="variable">n</span></a> <a class="idref" href="Basics.html#ad2ec4e405f68c46c0a176e3e94ae2e<sub>3</sub>"><span class="id" title="notation">=?</span></a> 1 <span class="id" title="keyword">then</span> 0<br/>
&nbsp;&nbsp;<span class="id" title="keyword">else</span> 1 <a class="idref" href="Basics.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="IndProp1.html#reaches1_in:6"><span class="id" title="definition">reaches1_in</span></a> (<a class="idref" href="IndProp1.html#f"><span class="id" title="definition">f</span></a> <a class="idref" href="IndProp1.html#n:5"><span class="id" title="variable">n</span></a>).<br/>
</div>

<div class="doc">
This definition is rejected by Coq's termination checker, since
    the argument to the recursive call, <span class="inlinecode"><span class="id" title="var">f</span></span> <span class="inlinecode"><span class="id" title="var">n</span></span>, is not "obviously
    smaller" than <span class="inlinecode"><span class="id" title="var">n</span></span>.

<div class="paragraph"> </div>

    Indeed, this isn't just a silly limitation of the termination
    checker.  Functions in Coq are required to be total, and checking
    that this particular function is total would be equivalent to
    settling the Collatz conjecture! 
<div class="paragraph"> </div>

 Fortunately, there is another way to do it: We can express the
    concept "reaches <span class="inlinecode">1</span> eventually" as an <i>inductively defined
    property</i> of numbers <span class="inlinecode"><span class="id" title="var">reaches1</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">nat</span></span> <span class="inlinecode">→</span> <span class="inlinecode"><span class="id" title="keyword">Prop</span></span>. Intuitively, this
    property is defined by a set of rules:

<div class="paragraph"> </div>

<center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">&nbsp;&nbsp;</td>
  <td class="infrulenamecol" rowspan="3">
    (reach_one) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">reaches1 1</td>
  <td></td>
</tr>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">Even n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reaches1 (div2 n)</td>
  <td class="infrulenamecol" rowspan="3">
    (reach_even) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">reaches1 n</td>
  <td></td>
</tr>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">~Even n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reaches1 ((3 * n) + 1)</td>
  <td class="infrulenamecol" rowspan="3">
    (reach_odd) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">reaches1 n</td>
  <td></td>
</tr>
</table></center>
<div class="paragraph"> </div>

    So there are three ways to prove that a number <span class="inlinecode"><span class="id" title="var">n</span></span> reaches 1 in
    the Collatz sequence:
<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">n</span></span> is 1;

</li>
<li> <span class="inlinecode"><span class="id" title="var">n</span></span> is even and <span class="inlinecode"><span class="id" title="var">div2</span></span> <span class="inlinecode"><span class="id" title="var">n</span></span> reaches 1;

</li>
<li> <span class="inlinecode"><span class="id" title="var">n</span></span> is odd and <span class="inlinecode">(3</span> <span class="inlinecode">×</span> <span class="inlinecode"><span class="id" title="var">n</span>)</span> <span class="inlinecode">+</span> <span class="inlinecode">1</span> reaches 1.

</li>
</ul>
 We can prove that a number reaches 1 by constructing a (finite)
    derivation using these rules. For instance, here is the derivation
    proving that 12 reaches 1 (where we left out the evenness/oddness
    premises):
<br/>
<span class="inlinecode">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;——————————— (<span class="id" title="var">reach_one</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reaches1</span> 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;——————————— (<span class="id" title="var">reach_even</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reaches1</span> 2<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;——————————— (<span class="id" title="var">reach_even</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reaches1</span> 4<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;——————————— (<span class="id" title="var">reach_even</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reaches1</span> 8<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;——————————— (<span class="id" title="var">reach_even</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reaches1</span> 16<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;——————————— (<span class="id" title="var">reach_odd</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reaches1</span> 5<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;——————————— (<span class="id" title="var">reach_even</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reaches1</span> 10<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;——————————— (<span class="id" title="var">reach_odd</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reaches1</span> 3<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;——————————— (<span class="id" title="var">reach_even</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reaches1</span> 6<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;——————————— (<span class="id" title="var">reach_even</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">reaches1</span> 12
</span>
<div class="paragraph"> </div>

 Formally in Coq, <span class="inlinecode"><span class="id" title="var">reaches1</span></span> is an <i>inductively defined property</i>
    of numbers: 
</div>
<div class="code">

<span class="id" title="keyword">Inductive</span> <a id="reaches1" class="idref" href="#reaches1"><span class="id" title="inductive">reaches1</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="reach_one" class="idref" href="#reach_one"><span class="id" title="constructor">reach_one</span></a> : <a class="idref" href="IndProp1.html#reaches1:7"><span class="id" title="inductive">reaches1</span></a> 1<br/>
&nbsp;&nbsp;| <a id="reach_even" class="idref" href="#reach_even"><span class="id" title="constructor">reach_even</span></a> (<a id="n:9" class="idref" href="#n:9"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="Logic.html#Even"><span class="id" title="definition">Even</span></a> <a class="idref" href="IndProp1.html#n:9"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="IndProp1.html#reaches1:7"><span class="id" title="inductive">reaches1</span></a> (<a class="idref" href="IndProp1.html#div2"><span class="id" title="definition">div2</span></a> <a class="idref" href="IndProp1.html#n:9"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="IndProp1.html#reaches1:7"><span class="id" title="inductive">reaches1</span></a> <a class="idref" href="IndProp1.html#n:9"><span class="id" title="variable">n</span></a><br/>
&nbsp;&nbsp;| <a id="reach_odd" class="idref" href="#reach_odd"><span class="id" title="constructor">reach_odd</span></a> (<a id="n:10" class="idref" href="#n:10"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="Logic.html#Even"><span class="id" title="definition">Even</span></a> <a class="idref" href="IndProp1.html#n:10"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="IndProp1.html#reaches1:7"><span class="id" title="inductive">reaches1</span></a> (<a class="idref" href="Basics.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">(</span></a>3 <a class="idref" href="Basics.html#ea2ff3d561159081cea6fb2e8113cc<sub>54</sub>"><span class="id" title="notation">×</span></a> <a class="idref" href="IndProp1.html#n:10"><span class="id" title="variable">n</span></a><a class="idref" href="Basics.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">)</span></a> <a class="idref" href="Basics.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1) <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="IndProp1.html#reaches1:7"><span class="id" title="inductive">reaches1</span></a> <a class="idref" href="IndProp1.html#n:10"><span class="id" title="variable">n</span></a>.<br/>
</div>

<div class="doc">
The details of how such inductive definitions are written are not
    important and will be explained later. For the moment, note that
    the 3 constructors correspond exactly to the 3 rules above. 
<div class="paragraph"> </div>

 The Collatz conjecture then states that the sequence beginning
    from <i>any</i> number reaches <span class="inlinecode">1</span>: 
</div>
<div class="code">

<span class="id" title="keyword">Conjecture</span> <a id="collatz" class="idref" href="#collatz"><span class="id" title="axiom">collatz</span></a> : <span class="id" title="keyword">∀</span> <a id="n:11" class="idref" href="#n:11"><span class="id" title="binder">n</span></a>, <a class="idref" href="IndProp1.html#reaches1"><span class="id" title="inductive">reaches1</span></a> <a class="idref" href="IndProp1.html#n:11"><span class="id" title="variable">n</span></a>.<br/>
</div>

<div class="doc">
If you succeed in proving this conjecture, you've got a bright
    future as a number theorist.  But don't spend too long on it --
    it's been open since 1937! 
</div>

<div class="doc">
<a id="lab232"></a><h2 class="section">Binary relations</h2>

<div class="paragraph"> </div>

 A binary <i>relation</i> on a set <span class="inlinecode"><span class="id" title="var">X</span></span> has Coq type <span class="inlinecode"><span class="id" title="var">X</span></span> <span class="inlinecode">→</span> <span class="inlinecode"><span class="id" title="var">X</span></span> <span class="inlinecode">→</span> <span class="inlinecode"><span class="id" title="keyword">Prop</span></span>.
    This is a family of propositions parameterized by two elements of
    <span class="inlinecode"><span class="id" title="var">X</span></span> -- i.e., a proposition about pairs of elements of <span class="inlinecode"><span class="id" title="var">X</span></span>. 
<div class="paragraph"> </div>

 For example, a familiar binary relation on <span class="inlinecode"><span class="id" title="var">nat</span></span> is <span class="inlinecode"><span class="id" title="var">le</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">nat</span></span> <span class="inlinecode">→</span>
    <span class="inlinecode"><span class="id" title="var">nat</span></span> <span class="inlinecode">→</span> <span class="inlinecode"><span class="id" title="keyword">Prop</span></span>, the less-than-or-equal-to relation, which can be
    inductively defined by the following two rules: 
</div>
<div class="code">

<span class="id" title="keyword">Module</span> <a id="LePlayground" class="idref" href="#LePlayground"><span class="id" title="module">LePlayground</span></a>.<br/>
</div>

<div class="doc">
<center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">&nbsp;&nbsp;</td>
  <td class="infrulenamecol" rowspan="3">
    (le_n) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">le n n</td>
  <td></td>
</tr>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">le n m</td>
  <td class="infrulenamecol" rowspan="3">
    (le_S) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">le n (S m)</td>
  <td></td>
</tr>
</table></center> These rules say that there are two ways to show that one
    number is less than or equal to another: either observe that they
    are the same number, or, if the second has the form <span class="inlinecode"><span class="id" title="var">S</span></span> <span class="inlinecode"><span class="id" title="var">m</span></span>, give
    evidence that the first is less than or equal to <span class="inlinecode"><span class="id" title="var">m</span></span>. 
<div class="paragraph"> </div>

 This corresponds to the following inductive definition in Coq: 
</div>
<div class="code">

<span class="id" title="keyword">Inductive</span> <a id="LePlayground.le" class="idref" href="#LePlayground.le"><span class="id" title="inductive">le</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="LePlayground.le_n" class="idref" href="#LePlayground.le_n"><span class="id" title="constructor">le_n</span></a> (<a id="n:15" class="idref" href="#n:15"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)   : <a class="idref" href="IndProp1.html#le:13"><span class="id" title="inductive">le</span></a> <a class="idref" href="IndProp1.html#n:15"><span class="id" title="variable">n</span></a> <a class="idref" href="IndProp1.html#n:15"><span class="id" title="variable">n</span></a><br/>
&nbsp;&nbsp;| <a id="LePlayground.le_S" class="idref" href="#LePlayground.le_S"><span class="id" title="constructor">le_S</span></a> (<a id="n:16" class="idref" href="#n:16"><span class="id" title="binder">n</span></a> <a id="m:17" class="idref" href="#m:17"><span class="id" title="binder">m</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="IndProp1.html#le:13"><span class="id" title="inductive">le</span></a> <a class="idref" href="IndProp1.html#n:16"><span class="id" title="variable">n</span></a> <a class="idref" href="IndProp1.html#m:17"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="IndProp1.html#le:13"><span class="id" title="inductive">le</span></a> <a class="idref" href="IndProp1.html#n:16"><span class="id" title="variable">n</span></a> (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="IndProp1.html#m:17"><span class="id" title="variable">m</span></a>).<br/>
</div>

<div class="doc">
This is a bit simpler and more elegant than the Boolean function
    <span class="inlinecode"><span class="id" title="var">leb</span></span> we defined in <a href="Basics.html"><span class="inlineref">Basics</span></a>. As usual, <span class="inlinecode"><span class="id" title="var">le</span></span> and <span class="inlinecode"><span class="id" title="var">leb</span></span> are
    equivalent, and there is an exercise about that. 
</div>
<div class="code">

<span class="id" title="keyword">End</span> <a class="idref" href="IndProp1.html#LePlayground"><span class="id" title="module">LePlayground</span></a>.<br/>
</div>

<div class="doc">
The Collatz step function <span class="inlinecode"><span class="id" title="var">f</span></span> also allows us to define a
    corresponding binary relation: 
</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="collatz_step" class="idref" href="#collatz_step"><span class="id" title="definition">collatz_step</span></a> (<a id="n:18" class="idref" href="#n:18"><span class="id" title="binder">n</span></a> <a id="m:19" class="idref" href="#m:19"><span class="id" title="binder">m</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <span class="id" title="keyword">Prop</span> := <a class="idref" href="IndProp1.html#f"><span class="id" title="definition">f</span></a> <a class="idref" href="IndProp1.html#n:18"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="IndProp1.html#m:19"><span class="id" title="variable">m</span></a>.<br/>
</div>

<div class="doc">
This Collatz step relation is useful in conjunction with the
    reflexive and transitive closure operation below. 
</div>

<div class="doc">
<a id="lab233"></a><h2 class="section">Reflexive and Transitive Closure</h2>

<div class="paragraph"> </div>

 The <i>reflexive and transitive closure</i> of a relation <span class="inlinecode"><span class="id" title="var">R</span></span> is the
    smallest relation that contains <span class="inlinecode"><span class="id" title="var">R</span></span> and that is reflexive and
    transitive. This can be defined by the following three rules:
<center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">R x y</td>
  <td class="infrulenamecol" rowspan="3">
    (rt_step) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">clos_refl_trans R x y</td>
  <td></td>
</tr>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">&nbsp;&nbsp;</td>
  <td class="infrulenamecol" rowspan="3">
    (rt_refl) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">clos_refl_trans R x x</td>
  <td></td>
</tr>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">clos_refl_trans R x y&nbsp;&nbsp;&nbsp;&nbsp;clos_refl_trans R y z</td>
  <td class="infrulenamecol" rowspan="3">
    (rt_trans) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">clos_refl_trans R x z</td>
  <td></td>
</tr>
</table></center>
<div class="paragraph"> </div>

 Computing the reflexive and transitive closure can be
    undecidable even for a relation R that is decidable
    (e.g. <span class="inlinecode"><span class="id" title="var">collatz_step_rel</span></span>), so in general we can't expect to define
    reflexive and transitive closure as a boolean function.
    Fortunately, Coq allows us to define reflexive and transitive
    closure as an inductive relation directly encoding the three rules
    above: 
</div>
<div class="code">

<span class="id" title="keyword">Inductive</span> <a id="clos_refl_trans" class="idref" href="#clos_refl_trans"><span class="id" title="inductive">clos_refl_trans</span></a> {<a id="X:20" class="idref" href="#X:20"><span class="id" title="binder">X</span></a>: <span class="id" title="keyword">Type</span>} (<a id="R:21" class="idref" href="#R:21"><span class="id" title="binder">R</span></a>: <a class="idref" href="IndProp1.html#X:20"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="IndProp1.html#X:20"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><span class="id" title="keyword">Prop</span>) : <span class="id" title="var">X</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><span class="id" title="var">X</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="rt_step" class="idref" href="#rt_step"><span class="id" title="constructor">rt_step</span></a> (<a id="x:24" class="idref" href="#x:24"><span class="id" title="binder">x</span></a> <a id="y:25" class="idref" href="#y:25"><span class="id" title="binder">y</span></a> : <a class="idref" href="IndProp1.html#X:20"><span class="id" title="variable">X</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="IndProp1.html#R:21"><span class="id" title="variable">R</span></a> <a class="idref" href="IndProp1.html#x:24"><span class="id" title="variable">x</span></a> <a class="idref" href="IndProp1.html#y:25"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="IndProp1.html#clos_refl_trans:22"><span class="id" title="inductive">clos_refl_trans</span></a> <a class="idref" href="IndProp1.html#R:21"><span class="id" title="variable">R</span></a> <a class="idref" href="IndProp1.html#x:24"><span class="id" title="variable">x</span></a> <a class="idref" href="IndProp1.html#y:25"><span class="id" title="variable">y</span></a><br/>
&nbsp;&nbsp;| <a id="rt_refl" class="idref" href="#rt_refl"><span class="id" title="constructor">rt_refl</span></a> (<a id="x:26" class="idref" href="#x:26"><span class="id" title="binder">x</span></a> : <a class="idref" href="IndProp1.html#X:20"><span class="id" title="variable">X</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="IndProp1.html#clos_refl_trans:22"><span class="id" title="inductive">clos_refl_trans</span></a> <a class="idref" href="IndProp1.html#R:21"><span class="id" title="variable">R</span></a> <a class="idref" href="IndProp1.html#x:26"><span class="id" title="variable">x</span></a> <a class="idref" href="IndProp1.html#x:26"><span class="id" title="variable">x</span></a><br/>
&nbsp;&nbsp;| <a id="rt_trans" class="idref" href="#rt_trans"><span class="id" title="constructor">rt_trans</span></a> (<a id="x:27" class="idref" href="#x:27"><span class="id" title="binder">x</span></a> <a id="y:28" class="idref" href="#y:28"><span class="id" title="binder">y</span></a> <a id="z:29" class="idref" href="#z:29"><span class="id" title="binder">z</span></a> : <a class="idref" href="IndProp1.html#X:20"><span class="id" title="variable">X</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="IndProp1.html#clos_refl_trans:22"><span class="id" title="inductive">clos_refl_trans</span></a> <a class="idref" href="IndProp1.html#R:21"><span class="id" title="variable">R</span></a> <a class="idref" href="IndProp1.html#x:27"><span class="id" title="variable">x</span></a> <a class="idref" href="IndProp1.html#y:28"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="IndProp1.html#clos_refl_trans:22"><span class="id" title="inductive">clos_refl_trans</span></a> <a class="idref" href="IndProp1.html#R:21"><span class="id" title="variable">R</span></a> <a class="idref" href="IndProp1.html#y:28"><span class="id" title="variable">y</span></a> <a class="idref" href="IndProp1.html#z:29"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="IndProp1.html#clos_refl_trans:22"><span class="id" title="inductive">clos_refl_trans</span></a> <a class="idref" href="IndProp1.html#R:21"><span class="id" title="variable">R</span></a> <a class="idref" href="IndProp1.html#x:27"><span class="id" title="variable">x</span></a> <a class="idref" href="IndProp1.html#z:29"><span class="id" title="variable">z</span></a>.<br/>
</div>

<div class="doc">
The reflexive and transitive closure of a binary relation
    cannot, in general, be expressed in first-order logic. The logic
    of Coq is, however, much more powerful, and can easily define such
    inductive relations. 
<div class="paragraph"> </div>

 This enables an equivalent definition of the Collatz conjecture: 
</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="cms" class="idref" href="#cms"><span class="id" title="definition">cms</span></a> <a id="n:30" class="idref" href="#n:30"><span class="id" title="binder">n</span></a> <a id="m:31" class="idref" href="#m:31"><span class="id" title="binder">m</span></a> := <a class="idref" href="IndProp1.html#clos_refl_trans"><span class="id" title="inductive">clos_refl_trans</span></a> <a class="idref" href="IndProp1.html#collatz_step"><span class="id" title="definition">collatz_step</span></a> <a class="idref" href="IndProp1.html#n:30"><span class="id" title="variable">n</span></a> <a class="idref" href="IndProp1.html#m:31"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Conjecture</span> <a id="collatz'" class="idref" href="#collatz'"><span class="id" title="axiom">collatz'</span></a> : <span class="id" title="keyword">∀</span> <a id="n:32" class="idref" href="#n:32"><span class="id" title="binder">n</span></a>, <a class="idref" href="IndProp1.html#cms"><span class="id" title="definition">cms</span></a> <a class="idref" href="IndProp1.html#n:32"><span class="id" title="variable">n</span></a> 1.<br/>
</div>

<div class="doc">
This <span class="inlinecode"><span class="id" title="var">cms</span></span> (Collatz multi-step) relation defined in terms of
    <span class="inlinecode"><span class="id" title="var">clos_refl_trans</span></span> allows for more interesting derivations than the
    linear ones of the directly defined <span class="inlinecode"><span class="id" title="var">reaches1</span></span> relation:
<br/>
<span class="inlinecode"><br/>
<span class="id" title="var">f</span> 16 = 8           <span class="id" title="var">f</span> 8 = 4           <span class="id" title="var">f</span> 4 = 2           <span class="id" title="var">f</span> 2 = 1<br/>
————————(<span class="id" title="var">rt_step</span>)  ———————(<span class="id" title="var">rt_step</span>)  ———————(<span class="id" title="var">rt_step</span>)  ———————(<span class="id" title="var">rt_step</span>)<br/>
<span class="id" title="var">cms</span> 16 8           <span class="id" title="var">cms</span> 8 4           <span class="id" title="var">cms</span> 4 2           <span class="id" title="var">cms</span> 2 1<br/>
—————————————————————————(<span class="id" title="var">rt_trans</span>)  ————————————————————————(<span class="id" title="var">rt_trans</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cms</span> 16 4                              <span class="id" title="var">cms</span> 4 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;—————————————————————————————————————————————(<span class="id" title="var">rt_trans</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cms</span> 16 1
</span>
<div class="paragraph"> </div>

<a id="lab234"></a><h4 class="section">Exercise: 1 star, standard, optional (close_refl)</h4>
 How would you modify this definition so that it defines transitive
    closure (i.e. not reflexive)?  How about reflexive, symmetric, and
    transitive closure? 
</div>
<div class="code">

<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span><br/>
<font size=-2>&#9744;</font>
</div>


<div class="doc">
<a id="lab235"></a><h2 class="section">Permutations</h2>

<div class="paragraph"> </div>

 The familiar mathematical concept of <i>permutation</i> also has an
    elegant formulation as an inductive relation.  For simplicity,
    let's focus on permutations of lists with exactly three
    elements. We can define them by the following rules:
<center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">&nbsp;&nbsp;</td>
  <td class="infrulenamecol" rowspan="3">
    (perm3_swap12) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">Perm3 [a;b;c] [b;a;c]</td>
  <td></td>
</tr>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">&nbsp;&nbsp;</td>
  <td class="infrulenamecol" rowspan="3">
    (perm3_swap23) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">Perm3 [a;b;c] [a;c;b]</td>
  <td></td>
</tr>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">Perm3 l<sub>1</sub> l<sub>2</sub>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Perm3 l<sub>2</sub> l<sub>3</sub></td>
  <td class="infrulenamecol" rowspan="3">
    (perm3_trans) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">Perm3 l<sub>1</sub> l<sub>3</sub></td>
  <td></td>
</tr>
</table></center>    For instance we can derive <span class="inlinecode"><span class="id" title="var">Perm3</span></span> <span class="inlinecode">[1;2;3]</span> <span class="inlinecode">[3;2;1]</span> as follows:
<br/>
<span class="inlinecode"><br/>
————————(<span class="id" title="var">perm_swap12</span>)  —————————————————————(<span class="id" title="var">perm_swap23</span>)<br/>
<span class="id" title="var">Perm3</span> [1;2;3] [2;1;3]  <span class="id" title="var">Perm3</span> [2;1;3] [2;3;1]<br/>
——————————————————————————————(<span class="id" title="var">perm_trans</span>)  ————————————(<span class="id" title="var">perm_swap12</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Perm3</span> [1;2;3] [2;3;1]                   <span class="id" title="var">Perm</span> [2;3;1] [3;2;1]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;—————————————————————————————————————————————————————(<span class="id" title="var">perm_trans</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Perm3</span> [1;2;3] [3;2;1]
</span>
<div class="paragraph"> </div>

 In Coq <span class="inlinecode"><span class="id" title="var">Perm3</span></span> is given the following inductive definition: 
</div>
<div class="code">

<span class="id" title="keyword">Inductive</span> <a id="Perm3" class="idref" href="#Perm3"><span class="id" title="inductive">Perm3</span></a> {<a id="X:34" class="idref" href="#X:34"><span class="id" title="binder">X</span></a> : <span class="id" title="keyword">Type</span>} : <a class="idref" href="Poly.html#list"><span class="id" title="inductive">list</span></a> <span class="id" title="var">X</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Poly.html#list"><span class="id" title="inductive">list</span></a> <span class="id" title="var">X</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="perm3_swap12" class="idref" href="#perm3_swap12"><span class="id" title="constructor">perm3_swap12</span></a> (<a id="a:37" class="idref" href="#a:37"><span class="id" title="binder">a</span></a> <a id="b:38" class="idref" href="#b:38"><span class="id" title="binder">b</span></a> <a id="c:39" class="idref" href="#c:39"><span class="id" title="binder">c</span></a> : <a class="idref" href="IndProp1.html#X:34"><span class="id" title="variable">X</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="IndProp1.html#Perm3:35"><span class="id" title="inductive">Perm3</span></a> <a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">[</span></a><a class="idref" href="IndProp1.html#a:37"><span class="id" title="variable">a</span></a><a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">;</span></a><a class="idref" href="IndProp1.html#b:38"><span class="id" title="variable">b</span></a><a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">;</span></a><a class="idref" href="IndProp1.html#c:39"><span class="id" title="variable">c</span></a><a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">[</span></a><a class="idref" href="IndProp1.html#b:38"><span class="id" title="variable">b</span></a><a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">;</span></a><a class="idref" href="IndProp1.html#a:37"><span class="id" title="variable">a</span></a><a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">;</span></a><a class="idref" href="IndProp1.html#c:39"><span class="id" title="variable">c</span></a><a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;| <a id="perm3_swap23" class="idref" href="#perm3_swap23"><span class="id" title="constructor">perm3_swap23</span></a> (<a id="a:40" class="idref" href="#a:40"><span class="id" title="binder">a</span></a> <a id="b:41" class="idref" href="#b:41"><span class="id" title="binder">b</span></a> <a id="c:42" class="idref" href="#c:42"><span class="id" title="binder">c</span></a> : <a class="idref" href="IndProp1.html#X:34"><span class="id" title="variable">X</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="IndProp1.html#Perm3:35"><span class="id" title="inductive">Perm3</span></a> <a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">[</span></a><a class="idref" href="IndProp1.html#a:40"><span class="id" title="variable">a</span></a><a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">;</span></a><a class="idref" href="IndProp1.html#b:41"><span class="id" title="variable">b</span></a><a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">;</span></a><a class="idref" href="IndProp1.html#c:42"><span class="id" title="variable">c</span></a><a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">[</span></a><a class="idref" href="IndProp1.html#a:40"><span class="id" title="variable">a</span></a><a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">;</span></a><a class="idref" href="IndProp1.html#c:42"><span class="id" title="variable">c</span></a><a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">;</span></a><a class="idref" href="IndProp1.html#b:41"><span class="id" title="variable">b</span></a><a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;| <a id="perm3_trans" class="idref" href="#perm3_trans"><span class="id" title="constructor">perm3_trans</span></a> (<a id="l<sub>1</sub>:43" class="idref" href="#l<sub>1</sub>:43"><span class="id" title="binder">l<sub>1</sub></span></a> <a id="l<sub>2</sub>:44" class="idref" href="#l<sub>2</sub>:44"><span class="id" title="binder">l<sub>2</sub></span></a> <a id="l<sub>3</sub>:45" class="idref" href="#l<sub>3</sub>:45"><span class="id" title="binder">l<sub>3</sub></span></a> : <a class="idref" href="Poly.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="IndProp1.html#X:34"><span class="id" title="variable">X</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="IndProp1.html#Perm3:35"><span class="id" title="inductive">Perm3</span></a> <a class="idref" href="IndProp1.html#l<sub>1</sub>:43"><span class="id" title="variable">l<sub>1</sub></span></a> <a class="idref" href="IndProp1.html#l<sub>2</sub>:44"><span class="id" title="variable">l<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="IndProp1.html#Perm3:35"><span class="id" title="inductive">Perm3</span></a> <a class="idref" href="IndProp1.html#l<sub>2</sub>:44"><span class="id" title="variable">l<sub>2</sub></span></a> <a class="idref" href="IndProp1.html#l<sub>3</sub>:45"><span class="id" title="variable">l<sub>3</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="IndProp1.html#Perm3:35"><span class="id" title="inductive">Perm3</span></a> <a class="idref" href="IndProp1.html#l<sub>1</sub>:43"><span class="id" title="variable">l<sub>1</sub></span></a> <a class="idref" href="IndProp1.html#l<sub>3</sub>:45"><span class="id" title="variable">l<sub>3</sub></span></a>.<br/>
</div>

<div class="doc">
This definition says:
<ul class="doclist">
<li> If <span class="inlinecode"><span class="id" title="var">l<sub>2</sub></span></span> can be obtained from <span class="inlinecode"><span class="id" title="var">l<sub>1</sub></span></span> by swapping the first and
        second elements, then <span class="inlinecode"><span class="id" title="var">l<sub>2</sub></span></span> is a permutation of <span class="inlinecode"><span class="id" title="var">l<sub>1</sub></span></span>.

</li>
<li> If <span class="inlinecode"><span class="id" title="var">l<sub>2</sub></span></span> can be obtained from <span class="inlinecode"><span class="id" title="var">l<sub>1</sub></span></span> by swapping the second and
        third elements, then <span class="inlinecode"><span class="id" title="var">l<sub>2</sub></span></span> is a permutation of <span class="inlinecode"><span class="id" title="var">l<sub>1</sub></span></span>.

</li>
<li> If <span class="inlinecode"><span class="id" title="var">l<sub>2</sub></span></span> is a permutation of <span class="inlinecode"><span class="id" title="var">l<sub>1</sub></span></span> and <span class="inlinecode"><span class="id" title="var">l<sub>3</sub></span></span> is a permutation of
        <span class="inlinecode"><span class="id" title="var">l<sub>2</sub></span></span>, then <span class="inlinecode"><span class="id" title="var">l<sub>3</sub></span></span> is a permutation of <span class="inlinecode"><span class="id" title="var">l<sub>1</sub></span></span>. 
</li>
</ul>

<div class="paragraph"> </div>

<a id="lab236"></a><h4 class="section">Exercise: 1 star, standard, optional (perm)</h4>
 According to this definition, is <span class="inlinecode">[1;2;3]</span> a permutation of
    itself? 
</div>
<div class="code">

<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span><br/>
<font size=-2>&#9744;</font>
</div>


<div class="doc">
<a id="lab237"></a><h2 class="section">Evenness (yet again)</h2>

<div class="paragraph"> </div>

 We've already seen two ways of stating a proposition that a number
    <span class="inlinecode"><span class="id" title="var">n</span></span> is even: We can say

<div class="paragraph"> </div>

      (1) <span class="inlinecode"><span class="id" title="var">even</span></span> <span class="inlinecode"><span class="id" title="var">n</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">true</span></span>, or

<div class="paragraph"> </div>

      (2) <span class="inlinecode"><span class="id" title="tactic">∃</span></span> <span class="inlinecode"><span class="id" title="var">k</span>,</span> <span class="inlinecode"><span class="id" title="var">n</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">double</span></span> <span class="inlinecode"><span class="id" title="var">k</span></span>.

<div class="paragraph"> </div>

    A third possibility, which we'll use as a running example for
    some of this chapter, is to say that <span class="inlinecode"><span class="id" title="var">n</span></span> is even if we can
    <i>establish</i> its evenness from the following two rules:
<ul class="doclist">
<li> The number <span class="inlinecode">0</span> is even.

</li>
<li> If <span class="inlinecode"><span class="id" title="var">n</span></span> is even, then <span class="inlinecode"><span class="id" title="var">S</span></span> <span class="inlinecode">(<span class="id" title="var">S</span></span> <span class="inlinecode"><span class="id" title="var">n</span>)</span> is even. 
</li>
</ul>

<div class="paragraph"> </div>

 (Defining evenness in this way may seem a bit confusing,
    since we have already seen another perfectly good way of doing
    it -- "<span class="inlinecode"><span class="id" title="var">n</span></span> is even if it is equal to the result of doubling some
    number". But it makes a convenient running example because it is
    simple and compact.) 
<div class="paragraph"> </div>

 To illustrate how this new definition of evenness works, let's
    imagine using it to show that <span class="inlinecode">4</span> is even. First, we give the
    rules names for easy reference:
<center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">&nbsp;&nbsp;</td>
  <td class="infrulenamecol" rowspan="3">
    (ev_0) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">ev 0</td>
  <td></td>
</tr>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">ev n</td>
  <td class="infrulenamecol" rowspan="3">
    (ev_SS) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">ev (S (S n))</td>
  <td></td>
</tr>
</table></center>    Now we can use the following derivation to show <span class="inlinecode"><span class="id" title="var">ev</span></span> <span class="inlinecode">4</span>:
<br/>
<span class="inlinecode">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;———— (<span class="id" title="var">ev_0</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ev</span> 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;———————————— (<span class="id" title="var">ev_SS</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ev</span> (<span class="id" title="var">S</span> (<span class="id" title="var">S</span> 0))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;———————————————————— (<span class="id" title="var">ev_SS</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ev</span> (<span class="id" title="var">S</span> (<span class="id" title="var">S</span> (<span class="id" title="var">S</span> (<span class="id" title="var">S</span> 0))))
</span>
<div class="paragraph"> </div>

 In words, to show that <span class="inlinecode">4</span> is even, by rule <span class="inlinecode"><span class="id" title="var">ev_SS</span></span>, it
   suffices to show that <span class="inlinecode">2</span> is even. This, in turn, is again
   guaranteed by rule <span class="inlinecode"><span class="id" title="var">ev_SS</span></span>, as long as we can show that <span class="inlinecode">0</span> is
   even. But this last fact follows directly from the <span class="inlinecode"><span class="id" title="var">ev_0</span></span> rule. 
<div class="paragraph"> </div>

 We can translate the informal definition of evenness from above
    into a formal <span class="inlinecode"><span class="id" title="keyword">Inductive</span></span> declaration, where each "way that a
    number can be even" corresponds to a separate constructor: 
</div>
<div class="code">

<span class="id" title="keyword">Inductive</span> <a id="ev" class="idref" href="#ev"><span class="id" title="inductive">ev</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="ev_0" class="idref" href="#ev_0"><span class="id" title="constructor">ev_0</span></a>                       : <a class="idref" href="IndProp1.html#ev:46"><span class="id" title="inductive">ev</span></a> 0<br/>
&nbsp;&nbsp;| <a id="ev_SS" class="idref" href="#ev_SS"><span class="id" title="constructor">ev_SS</span></a> (<a id="n:48" class="idref" href="#n:48"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="H:49" class="idref" href="#H:49"><span class="id" title="binder">H</span></a> : <a class="idref" href="IndProp1.html#ev:46"><span class="id" title="inductive">ev</span></a> <a class="idref" href="IndProp1.html#n:48"><span class="id" title="variable">n</span></a>) : <a class="idref" href="IndProp1.html#ev:46"><span class="id" title="inductive">ev</span></a> (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="IndProp1.html#n:48"><span class="id" title="variable">n</span></a>)).<br/>
</div>

<div class="doc">
This definition is interestingly different from previous uses of
    <span class="inlinecode"><span class="id" title="keyword">Inductive</span></span>.  For one thing, we are defining not a <span class="inlinecode"><span class="id" title="keyword">Type</span></span> (like
    <span class="inlinecode"><span class="id" title="var">nat</span></span>) or a function yielding a <span class="inlinecode"><span class="id" title="keyword">Type</span></span> (like <span class="inlinecode"><span class="id" title="var">list</span></span>), but rather a
    function from <span class="inlinecode"><span class="id" title="var">nat</span></span> to <span class="inlinecode"><span class="id" title="keyword">Prop</span></span> -- that is, a property of numbers.
    But what is really new is that, because the <span class="inlinecode"><span class="id" title="var">nat</span></span> argument of <span class="inlinecode"><span class="id" title="var">ev</span></span>
    appears to the <i>right</i> of the colon on the first line, it is
    allowed to take <i>different</i> values in the types of different
    constructors: <span class="inlinecode">0</span> in the type of <span class="inlinecode"><span class="id" title="var">ev_0</span></span> and <span class="inlinecode"><span class="id" title="var">S</span></span> <span class="inlinecode">(<span class="id" title="var">S</span></span> <span class="inlinecode"><span class="id" title="var">n</span>)</span> in the type
    of <span class="inlinecode"><span class="id" title="var">ev_SS</span></span>.  Accordingly, the type of each constructor must be
    specified explicitly (after a colon), and each constructor's type
    must have the form <span class="inlinecode"><span class="id" title="var">ev</span></span> <span class="inlinecode"><span class="id" title="var">n</span></span> for some natural number <span class="inlinecode"><span class="id" title="var">n</span></span>.

<div class="paragraph"> </div>

    In contrast, recall the definition of <span class="inlinecode"><span class="id" title="var">list</span></span>:
<br/>
<span class="inlinecode">&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <span class="id" title="var">list</span> (<span class="id" title="var">X</span>:<span class="id" title="keyword">Type</span>) : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">nil</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">cons</span> (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>) (<span class="id" title="var">l</span> : <span class="id" title="var">list</span> <span class="id" title="var">X</span>).
</span>    or equivalently:
<br/>
<span class="inlinecode">&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <span class="id" title="var">list</span> (<span class="id" title="var">X</span>:<span class="id" title="keyword">Type</span>) : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">nil</span>                       : <span class="id" title="var">list</span> <span class="id" title="var">X</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">cons</span> (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>) (<span class="id" title="var">l</span> : <span class="id" title="var">list</span> <span class="id" title="var">X</span>) : <span class="id" title="var">list</span> <span class="id" title="var">X</span>.
</span>   This definition introduces the <span class="inlinecode"><span class="id" title="var">X</span></span> parameter <i>globally</i>, to the
   <i>left</i> of the colon, forcing the result of <span class="inlinecode"><span class="id" title="var">nil</span></span> and <span class="inlinecode"><span class="id" title="var">cons</span></span> to be
   the same type (i.e., <span class="inlinecode"><span class="id" title="var">list</span></span> <span class="inlinecode"><span class="id" title="var">X</span></span>).  But if we had tried to bring <span class="inlinecode"><span class="id" title="var">nat</span></span>
   to the left of the colon in defining <span class="inlinecode"><span class="id" title="var">ev</span></span>, we would have seen an
   error: 
</div>
<div class="code">

<span class="id" title="var">Fail</span> <span class="id" title="keyword">Inductive</span> <a id="wrong_ev" class="idref" href="#wrong_ev"><span class="id" title="inductive">wrong_ev</span></a> (<a id="n:50" class="idref" href="#n:50"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="wrong_ev_0" class="idref" href="#wrong_ev_0"><span class="id" title="constructor">wrong_ev_0</span></a> : <a class="idref" href="IndProp1.html#wrong_ev:51"><span class="id" title="inductive">wrong_ev</span></a> 0<br/>
&nbsp;&nbsp;| <a id="wrong_ev_SS" class="idref" href="#wrong_ev_SS"><span class="id" title="constructor">wrong_ev_SS</span></a> (<span class="id" title="var">H</span>: <span class="id" title="var">wrong_ev</span> <span class="id" title="var">n</span>) : <span class="id" title="var">wrong_ev</span> (<span class="id" title="var">S</span> (<span class="id" title="var">S</span> <span class="id" title="var">n</span>)).<br/>
<span class="comment">(*&nbsp;===&gt;&nbsp;Error:&nbsp;Last&nbsp;occurrence&nbsp;of&nbsp;"<span class="inlinecode"><span class="id" title="var">wrong_ev</span></span>"&nbsp;must&nbsp;have&nbsp;"<span class="inlinecode"><span class="id" title="var">n</span></span>"&nbsp;as&nbsp;1st<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;argument&nbsp;in&nbsp;"<span class="inlinecode"><span class="id" title="var">wrong_ev</span></span> <span class="inlinecode">0</span>".&nbsp;*)</span><br/>
</div>

<div class="doc">
In an <span class="inlinecode"><span class="id" title="keyword">Inductive</span></span> definition, an argument to the type constructor
    on the left of the colon is called a "parameter", whereas an
    argument on the right is called an "index" or "annotation."

<div class="paragraph"> </div>

    For example, in <span class="inlinecode"><span class="id" title="keyword">Inductive</span></span> <span class="inlinecode"><span class="id" title="var">list</span></span> <span class="inlinecode">(<span class="id" title="var">X</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="keyword">Type</span>)</span> <span class="inlinecode">:=</span> <span class="inlinecode">...</span>, the <span class="inlinecode"><span class="id" title="var">X</span></span> is a
    parameter, while in <span class="inlinecode"><span class="id" title="keyword">Inductive</span></span> <span class="inlinecode"><span class="id" title="var">ev</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">nat</span></span> <span class="inlinecode">→</span> <span class="inlinecode"><span class="id" title="keyword">Prop</span></span> <span class="inlinecode">:=</span> <span class="inlinecode">...</span>, the
    unnamed <span class="inlinecode"><span class="id" title="var">nat</span></span> argument is an index. 
<div class="paragraph"> </div>

 We can think of the inductive definition of <span class="inlinecode"><span class="id" title="var">ev</span></span> this as defining
    a Coq property <span class="inlinecode"><span class="id" title="var">ev</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">nat</span></span> <span class="inlinecode">→</span> <span class="inlinecode"><span class="id" title="keyword">Prop</span></span>, together with "evidence
    constructors" <span class="inlinecode"><span class="id" title="var">ev_0</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">ev</span></span> <span class="inlinecode">0</span> and
    <span class="inlinecode"><span class="id" title="var">ev_SS</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="keyword">∀</span></span> <span class="inlinecode"><span class="id" title="var">n</span>,</span> <span class="inlinecode"><span class="id" title="var">ev</span></span> <span class="inlinecode"><span class="id" title="var">n</span></span> <span class="inlinecode">→</span> <span class="inlinecode"><span class="id" title="var">ev</span></span> <span class="inlinecode">(<span class="id" title="var">S</span></span> <span class="inlinecode">(<span class="id" title="var">S</span></span> <span class="inlinecode"><span class="id" title="var">n</span>))</span>. In fact, Coq also
    accepts the following equivalent definition of <span class="inlinecode"><span class="id" title="var">ev</span></span>: 
</div>
<div class="code">

<span class="id" title="keyword">Module</span> <a id="EvPlayground" class="idref" href="#EvPlayground"><span class="id" title="module">EvPlayground</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Inductive</span> <a id="EvPlayground.ev" class="idref" href="#EvPlayground.ev"><span class="id" title="inductive">ev</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="EvPlayground.ev_0" class="idref" href="#EvPlayground.ev_0"><span class="id" title="constructor">ev_0</span></a>  : <a class="idref" href="IndProp1.html#ev:53"><span class="id" title="inductive">ev</span></a> 0<br/>
&nbsp;&nbsp;| <a id="EvPlayground.ev_SS" class="idref" href="#EvPlayground.ev_SS"><span class="id" title="constructor">ev_SS</span></a> : <span class="id" title="keyword">∀</span> (<a id="n:55" class="idref" href="#n:55"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>), <a class="idref" href="IndProp1.html#ev:53"><span class="id" title="inductive">ev</span></a> <a class="idref" href="IndProp1.html#n:55"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="IndProp1.html#ev:53"><span class="id" title="inductive">ev</span></a> (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="IndProp1.html#n:55"><span class="id" title="variable">n</span></a>)).<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">End</span> <a class="idref" href="IndProp1.html#EvPlayground"><span class="id" title="module">EvPlayground</span></a>.<br/>
</div>

<div class="doc">
These evidence constructors can be thought of as "primitive
    evidence of evenness", and they can be used just like proven
    theorems.  In particular, we can use Coq's <span class="inlinecode"><span class="id" title="tactic">apply</span></span> tactic with the
    constructor names to obtain evidence for <span class="inlinecode"><span class="id" title="var">ev</span></span> of particular
    numbers... 
</div>
<div class="code">

<span class="id" title="keyword">Theorem</span> <a id="ev_4" class="idref" href="#ev_4"><span class="id" title="lemma">ev_4</span></a> : <a class="idref" href="IndProp1.html#ev"><span class="id" title="inductive">ev</span></a> 4.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="IndProp1.html#ev_SS"><span class="id" title="constructor">ev_SS</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="IndProp1.html#ev_SS"><span class="id" title="constructor">ev_SS</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="IndProp1.html#ev_0"><span class="id" title="constructor">ev_0</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
... or we can use function application syntax to combine several
    constructors: 
</div>
<div class="code">

<span class="id" title="keyword">Theorem</span> <a id="ev_4'" class="idref" href="#ev_4'"><span class="id" title="lemma">ev_4'</span></a> : <a class="idref" href="IndProp1.html#ev"><span class="id" title="inductive">ev</span></a> 4.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="IndProp1.html#ev_SS"><span class="id" title="constructor">ev_SS</span></a> 2 (<a class="idref" href="IndProp1.html#ev_SS"><span class="id" title="constructor">ev_SS</span></a> 0 <a class="idref" href="IndProp1.html#ev_0"><span class="id" title="constructor">ev_0</span></a>)). <span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
In this way, we can also prove theorems that have hypotheses
    involving <span class="inlinecode"><span class="id" title="var">ev</span></span>. 
</div>
<div class="code">

<span class="id" title="keyword">Theorem</span> <a id="ev_plus4" class="idref" href="#ev_plus4"><span class="id" title="lemma">ev_plus4</span></a> : <span class="id" title="keyword">∀</span> <a id="n:56" class="idref" href="#n:56"><span class="id" title="binder">n</span></a>, <a class="idref" href="IndProp1.html#ev"><span class="id" title="inductive">ev</span></a> <a class="idref" href="IndProp1.html#n:56"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="IndProp1.html#ev"><span class="id" title="inductive">ev</span></a> (4 <a class="idref" href="Basics.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="IndProp1.html#n:56"><span class="id" title="variable">n</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hn</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="IndProp1.html#ev_SS"><span class="id" title="constructor">ev_SS</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="IndProp1.html#ev_SS"><span class="id" title="constructor">ev_SS</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hn</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a id="lab238"></a><h4 class="section">Exercise: 1 star, standard (ev_double)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a id="ev_double" class="idref" href="#ev_double"><span class="id" title="lemma">ev_double</span></a> : <span class="id" title="keyword">∀</span> <a id="n:57" class="idref" href="#n:57"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="IndProp1.html#ev"><span class="id" title="inductive">ev</span></a> (<a class="idref" href="Induction.html#double"><span class="id" title="definition">double</span></a> <a class="idref" href="IndProp1.html#n:57"><span class="id" title="variable">n</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

<a id="lab239"></a><h2 class="section">Constructing Evidence for Permutations</h2>

<div class="paragraph"> </div>

 Similarly we can apply the evidence constructors to obtain
    evidence of <span class="inlinecode"><span class="id" title="var">Perm3</span></span> <span class="inlinecode">[1;2;3]</span> <span class="inlinecode">[3;2;1]</span>: 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="Perm3_rev" class="idref" href="#Perm3_rev"><span class="id" title="lemma">Perm3_rev</span></a> : <a class="idref" href="IndProp1.html#Perm3"><span class="id" title="inductive">Perm3</span></a> <a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">[</span></a>1<a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">;</span></a>2<a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">;</span></a>3<a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">[</span></a>3<a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">;</span></a>2<a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">;</span></a>1<a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="IndProp1.html#perm3_trans"><span class="id" title="constructor">perm3_trans</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">l<sub>2</sub></span>:=<a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">[</span></a>2<a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">;</span></a>3<a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">;</span></a>1<a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="IndProp1.html#perm3_trans"><span class="id" title="constructor">perm3_trans</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">l<sub>2</sub></span>:=<a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">[</span></a>2<a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">;</span></a>1<a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">;</span></a>3<a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="IndProp1.html#perm3_swap12"><span class="id" title="constructor">perm3_swap12</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="IndProp1.html#perm3_swap23"><span class="id" title="constructor">perm3_swap23</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="IndProp1.html#perm3_swap12"><span class="id" title="constructor">perm3_swap12</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
And again we can equivalently use function application syntax to
    combine several constructors. Note that the Coq type checker can
    infer not only types, but also nats and lists. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="Perm3_rev'" class="idref" href="#Perm3_rev'"><span class="id" title="lemma">Perm3_rev'</span></a> : <a class="idref" href="IndProp1.html#Perm3"><span class="id" title="inductive">Perm3</span></a> <a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">[</span></a>1<a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">;</span></a>2<a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">;</span></a>3<a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">[</span></a>3<a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">;</span></a>2<a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">;</span></a>1<a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="IndProp1.html#perm3_trans"><span class="id" title="constructor">perm3_trans</span></a> <span class="id" title="var">_</span> <a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">[</span></a>2<a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">;</span></a>3<a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">;</span></a>1<a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">]</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="IndProp1.html#perm3_trans"><span class="id" title="constructor">perm3_trans</span></a> <span class="id" title="var">_</span> <a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">[</span></a>2<a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">;</span></a>1<a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">;</span></a>3<a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">]</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="IndProp1.html#perm3_swap12"><span class="id" title="constructor">perm3_swap12</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="IndProp1.html#perm3_swap23"><span class="id" title="constructor">perm3_swap23</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="IndProp1.html#perm3_swap12"><span class="id" title="constructor">perm3_swap12</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
So the informal derivation trees we drew above are not too far
    from what's happening formally.  Formally we're using the evidence
    constructors to build <i>evidence trees</i>, similar to the trees we
    built using the constructors of data types such as nat, list,
    binary trees storing numbers, etc. 
<div class="paragraph"> </div>

<a id="lab240"></a><h4 class="section">Exercise: 1 star, standard (Perm3)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="Perm3_ex<sub>1</sub>" class="idref" href="#Perm3_ex<sub>1</sub>"><span class="id" title="lemma">Perm3_ex<sub>1</sub></span></a> : <a class="idref" href="IndProp1.html#Perm3"><span class="id" title="inductive">Perm3</span></a> <a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">[</span></a>1<a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">;</span></a>2<a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">;</span></a>3<a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">[</span></a>2<a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">;</span></a>3<a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">;</span></a>1<a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="Perm3_refl" class="idref" href="#Perm3_refl"><span class="id" title="lemma">Perm3_refl</span></a> : <span class="id" title="keyword">∀</span> (<a id="X:58" class="idref" href="#X:58"><span class="id" title="binder">X</span></a> : <span class="id" title="keyword">Type</span>) (<a id="a:59" class="idref" href="#a:59"><span class="id" title="binder">a</span></a> <a id="b:60" class="idref" href="#b:60"><span class="id" title="binder">b</span></a> <a id="c:61" class="idref" href="#c:61"><span class="id" title="binder">c</span></a> : <a class="idref" href="IndProp1.html#X:58"><span class="id" title="variable">X</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="IndProp1.html#Perm3"><span class="id" title="inductive">Perm3</span></a> <a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">[</span></a><a class="idref" href="IndProp1.html#a:59"><span class="id" title="variable">a</span></a><a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">;</span></a><a class="idref" href="IndProp1.html#b:60"><span class="id" title="variable">b</span></a><a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">;</span></a><a class="idref" href="IndProp1.html#c:61"><span class="id" title="variable">c</span></a><a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">[</span></a><a class="idref" href="IndProp1.html#a:59"><span class="id" title="variable">a</span></a><a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">;</span></a><a class="idref" href="IndProp1.html#b:60"><span class="id" title="variable">b</span></a><a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">;</span></a><a class="idref" href="IndProp1.html#c:61"><span class="id" title="variable">c</span></a><a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>


<div class="doc">
<a id="lab241"></a><h1 class="section">Using Evidence in Proofs</h1>

<div class="paragraph"> </div>

 Besides <i>constructing</i> evidence that numbers are even, we can also
    <i>destruct</i> such evidence, reasoning about how it could have been
    built.

<div class="paragraph"> </div>

    Introducing <span class="inlinecode"><span class="id" title="var">ev</span></span> with an <span class="inlinecode"><span class="id" title="keyword">Inductive</span></span> declaration tells Coq not
    only that the constructors <span class="inlinecode"><span class="id" title="var">ev_0</span></span> and <span class="inlinecode"><span class="id" title="var">ev_SS</span></span> are valid ways to
    build evidence that some number is <span class="inlinecode"><span class="id" title="var">ev</span></span>, but also that these two
    constructors are the <i>only</i> ways to build evidence that numbers
    are <span class="inlinecode"><span class="id" title="var">ev</span></span>. 
<div class="paragraph"> </div>

 In other words, if someone gives us evidence <span class="inlinecode"><span class="id" title="var">E</span></span> for the proposition
    <span class="inlinecode"><span class="id" title="var">ev</span></span> <span class="inlinecode"><span class="id" title="var">n</span></span>, then we know that <span class="inlinecode"><span class="id" title="var">E</span></span> must be one of two things:

<div class="paragraph"> </div>

<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">E</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">ev_0</span></span> and <span class="inlinecode"><span class="id" title="var">n</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">O</span></span>, or

</li>
<li> <span class="inlinecode"><span class="id" title="var">E</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">ev_SS</span></span> <span class="inlinecode"><span class="id" title="var">n'</span></span> <span class="inlinecode"><span class="id" title="var">E'</span></span>, where <span class="inlinecode"><span class="id" title="var">n</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">S</span></span> <span class="inlinecode">(<span class="id" title="var">S</span></span> <span class="inlinecode"><span class="id" title="var">n'</span>)</span> and <span class="inlinecode"><span class="id" title="var">E'</span></span> is
        evidence for <span class="inlinecode"><span class="id" title="var">ev</span></span> <span class="inlinecode"><span class="id" title="var">n'</span></span>. 
</li>
</ul>

<div class="paragraph"> </div>

 This suggests that it should be possible to analyze a
    hypothesis of the form <span class="inlinecode"><span class="id" title="var">ev</span></span> <span class="inlinecode"><span class="id" title="var">n</span></span> much as we do inductively defined
    data structures; in particular, it should be possible to argue by
    <i>case analysis</i> or by <i>induction</i> on such evidence.  Let's look at a
    few examples to see what this means in practice. 
<div class="paragraph"> </div>

<a id="lab242"></a><h2 class="section">Destructing and Inverting Evidence</h2>

<div class="paragraph"> </div>

 Suppose we are proving some fact involving a number <span class="inlinecode"><span class="id" title="var">n</span></span>, and
    we are given <span class="inlinecode"><span class="id" title="var">ev</span></span> <span class="inlinecode"><span class="id" title="var">n</span></span> as a hypothesis.  We already know how to
    perform case analysis on <span class="inlinecode"><span class="id" title="var">n</span></span> using <span class="inlinecode"><span class="id" title="tactic">destruct</span></span> or <span class="inlinecode"><span class="id" title="tactic">induction</span></span>,
    generating separate subgoals for the case where <span class="inlinecode"><span class="id" title="var">n</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">O</span></span> and the
    case where <span class="inlinecode"><span class="id" title="var">n</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">S</span></span> <span class="inlinecode"><span class="id" title="var">n'</span></span> for some <span class="inlinecode"><span class="id" title="var">n'</span></span>.  But for some proofs we may
    instead want to analyze the evidence for <span class="inlinecode"><span class="id" title="var">ev</span></span> <span class="inlinecode"><span class="id" title="var">n</span></span> <i>directly</i>.

<div class="paragraph"> </div>

    As a tool for such proofs, we can formalize the intuitive
    characterization that we gave above for evidence of <span class="inlinecode"><span class="id" title="var">ev</span></span> <span class="inlinecode"><span class="id" title="var">n</span></span>, using
    <span class="inlinecode"><span class="id" title="tactic">destruct</span></span>. 
</div>
<div class="code">

<span class="id" title="keyword">Theorem</span> <a id="ev_inversion" class="idref" href="#ev_inversion"><span class="id" title="lemma">ev_inversion</span></a> : <span class="id" title="keyword">∀</span> (<a id="n:62" class="idref" href="#n:62"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="IndProp1.html#ev"><span class="id" title="inductive">ev</span></a> <a class="idref" href="IndProp1.html#n:62"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e<sub>25</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="IndProp1.html#n:62"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e<sub>25</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e<sub>25</sub>"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e<sub>25</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="n':63" class="idref" href="#n':63"><span class="id" title="binder">n'</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="IndProp1.html#n:62"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="IndProp1.html#n':63"><span class="id" title="variable">n'</span></a>) <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="IndProp1.html#ev"><span class="id" title="inductive">ev</span></a> <a class="idref" href="IndProp1.html#n':63"><span class="id" title="variable">n'</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e<sub>25</sub>"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">E</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">E</span> <span class="id" title="keyword">as</span> [ | <span class="id" title="var">n'</span> <span class="id" title="var">E'</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">EE</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;E&nbsp;=&nbsp;ev_0&nbsp;:&nbsp;ev&nbsp;0&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;E&nbsp;=&nbsp;ev_SS&nbsp;n'&nbsp;E'&nbsp;:&nbsp;ev&nbsp;(S&nbsp;(S&nbsp;n'))&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">n'</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">E'</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
Facts like this are often called "inversion lemmas" because they
    allow us to "invert" some given information to reason about all
    the different ways it could have been derived.  Here, there are two ways to prove <span class="inlinecode"><span class="id" title="var">ev</span></span> <span class="inlinecode"><span class="id" title="var">n</span></span>, and the inversion
    lemma makes this explicit. 
<div class="paragraph"> </div>

<a id="lab243"></a><h4 class="section">Exercise: 1 star, standard (le_inversion)</h4>
 Let's prove a similar inversion lemma for <span class="inlinecode"><span class="id" title="var">le</span></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a id="le_inversion" class="idref" href="#le_inversion"><span class="id" title="lemma">le_inversion</span></a> : <span class="id" title="keyword">∀</span> (<a id="n:64" class="idref" href="#n:64"><span class="id" title="binder">n</span></a> <a id="m:65" class="idref" href="#m:65"><span class="id" title="binder">m</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#le"><span class="id" title="inductive">le</span></a> <a class="idref" href="IndProp1.html#n:64"><span class="id" title="variable">n</span></a> <a class="idref" href="IndProp1.html#m:65"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e<sub>25</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="IndProp1.html#n:64"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="IndProp1.html#m:65"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e<sub>25</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e<sub>25</sub>"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e<sub>25</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="m':66" class="idref" href="#m':66"><span class="id" title="binder">m'</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="IndProp1.html#m:65"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="IndProp1.html#m':66"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#le"><span class="id" title="inductive">le</span></a> <a class="idref" href="IndProp1.html#n:64"><span class="id" title="variable">n</span></a> <a class="idref" href="IndProp1.html#m':66"><span class="id" title="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e<sub>25</sub>"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

 We can use the inversion lemma that we proved above to help
    structure proofs: 
</div>
<div class="code">

<span class="id" title="keyword">Theorem</span> <a id="evSS_ev" class="idref" href="#evSS_ev"><span class="id" title="lemma">evSS_ev</span></a> : <span class="id" title="keyword">∀</span> <a id="n:67" class="idref" href="#n:67"><span class="id" title="binder">n</span></a>, <a class="idref" href="IndProp1.html#ev"><span class="id" title="inductive">ev</span></a> (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="IndProp1.html#n:67"><span class="id" title="variable">n</span></a>)) <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="IndProp1.html#ev"><span class="id" title="inductive">ev</span></a> <a class="idref" href="IndProp1.html#n:67"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">E</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="IndProp1.html#ev_inversion"><span class="id" title="lemma">ev_inversion</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">E</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">E</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H<sub>0</sub></span>|<span class="id" title="var">H<sub>1</sub></span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">discriminate</span> <span class="id" title="var">H<sub>0</sub></span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H<sub>1</sub></span> <span class="id" title="keyword">as</span> [<span class="id" title="var">n'</span> [<span class="id" title="var">Hnn'</span> <span class="id" title="var">E'</span>]]. <span class="id" title="tactic">injection</span> <span class="id" title="var">Hnn'</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hnn'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hnn'</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">E'</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
Note how the inversion lemma produces two subgoals, which
    correspond to the two ways of proving <span class="inlinecode"><span class="id" title="var">ev</span></span>.  The first subgoal is
    a contradiction that is discharged with <span class="inlinecode"><span class="id" title="tactic">discriminate</span></span>.  The
    second subgoal makes use of <span class="inlinecode"><span class="id" title="tactic">injection</span></span> and <span class="inlinecode"><span class="id" title="tactic">rewrite</span></span>.

<div class="paragraph"> </div>

    Coq provides a handy tactic called <span class="inlinecode"><span class="id" title="tactic">inversion</span></span> that factors out
    this common pattern, saving us the trouble of explicitly stating
    and proving an inversion lemma for every <span class="inlinecode"><span class="id" title="keyword">Inductive</span></span> definition we
    make.

<div class="paragraph"> </div>

    Here, the <span class="inlinecode"><span class="id" title="tactic">inversion</span></span> tactic can detect (1) that the first case,
    where <span class="inlinecode"><span class="id" title="var">n</span></span> <span class="inlinecode">=</span> <span class="inlinecode">0</span>, does not apply and (2) that the <span class="inlinecode"><span class="id" title="var">n'</span></span> that appears
    in the <span class="inlinecode"><span class="id" title="var">ev_SS</span></span> case must be the same as <span class="inlinecode"><span class="id" title="var">n</span></span>.  It includes an
    "<span class="inlinecode"><span class="id" title="keyword">as</span></span>" annotation similar to <span class="inlinecode"><span class="id" title="tactic">destruct</span></span>, allowing us to assign
    names rather than have Coq choose them. 
</div>
<div class="code">

<span class="id" title="keyword">Theorem</span> <a id="evSS_ev'" class="idref" href="#evSS_ev'"><span class="id" title="lemma">evSS_ev'</span></a> : <span class="id" title="keyword">∀</span> <a id="n:68" class="idref" href="#n:68"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="IndProp1.html#ev"><span class="id" title="inductive">ev</span></a> (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="IndProp1.html#n:68"><span class="id" title="variable">n</span></a>)) <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="IndProp1.html#ev"><span class="id" title="inductive">ev</span></a> <a class="idref" href="IndProp1.html#n:68"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">E</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">E</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">n'</span> <span class="id" title="var">E'</span> <span class="id" title="var">Hnn'</span>].<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;We&nbsp;are&nbsp;in&nbsp;the&nbsp;<span class="inlinecode"><span class="id" title="var">E</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">ev_SS</span></span> <span class="inlinecode"><span class="id" title="var">n'</span></span> <span class="inlinecode"><span class="id" title="var">E'</span></span>&nbsp;case&nbsp;now.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">E'</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
The <span class="inlinecode"><span class="id" title="tactic">inversion</span></span> tactic can apply the principle of explosion to
    "obviously contradictory" hypotheses involving inductively defined
    properties, something that takes a bit more work using our
    inversion lemma. Compare: 
</div>
<div class="code">

<span class="id" title="keyword">Theorem</span> <a id="one_not_even" class="idref" href="#one_not_even"><span class="id" title="lemma">one_not_even</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="IndProp1.html#ev"><span class="id" title="inductive">ev</span></a> 1.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="IndProp1.html#ev_inversion"><span class="id" title="lemma">ev_inversion</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [ | [<span class="id" title="var">m</span> [<span class="id" title="var">Hm</span> <span class="id" title="var">_</span>]]].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">discriminate</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">discriminate</span> <span class="id" title="var">Hm</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Theorem</span> <a id="one_not_even'" class="idref" href="#one_not_even'"><span class="id" title="lemma">one_not_even'</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="IndProp1.html#ev"><span class="id" title="inductive">ev</span></a> 1.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a id="lab244"></a><h4 class="section">Exercise: 1 star, standard (inversion_practice)</h4>
 Prove the following result using <span class="inlinecode"><span class="id" title="tactic">inversion</span></span>.  (For extra
    practice, you can also prove it using the inversion lemma.) 
</div>
<div class="code">

<span class="id" title="keyword">Theorem</span> <a id="SSSSev__even" class="idref" href="#SSSSev__even"><span class="id" title="lemma">SSSSev__even</span></a> : <span class="id" title="keyword">∀</span> <a id="n:69" class="idref" href="#n:69"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="IndProp1.html#ev"><span class="id" title="inductive">ev</span></a> (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="IndProp1.html#n:69"><span class="id" title="variable">n</span></a>)))) <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="IndProp1.html#ev"><span class="id" title="inductive">ev</span></a> <a class="idref" href="IndProp1.html#n:69"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

<a id="lab245"></a><h4 class="section">Exercise: 1 star, standard (ev5_nonsense)</h4>
 Prove the following result using <span class="inlinecode"><span class="id" title="tactic">inversion</span></span>. 
</div>
<div class="code">

<span class="id" title="keyword">Theorem</span> <a id="ev5_nonsense" class="idref" href="#ev5_nonsense"><span class="id" title="lemma">ev5_nonsense</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="IndProp1.html#ev"><span class="id" title="inductive">ev</span></a> 5 <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> 2 <a class="idref" href="Basics.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 2 <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 9.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

 The <span class="inlinecode"><span class="id" title="tactic">inversion</span></span> tactic does quite a bit of work. For
    example, when applied to an equality assumption, it does the work
    of both <span class="inlinecode"><span class="id" title="tactic">discriminate</span></span> and <span class="inlinecode"><span class="id" title="tactic">injection</span></span>. In addition, it carries
    out the <span class="inlinecode"><span class="id" title="tactic">intros</span></span> and <span class="inlinecode"><span class="id" title="tactic">rewrite</span></span>s that are typically necessary in
    the case of <span class="inlinecode"><span class="id" title="tactic">injection</span></span>. It can also be applied to analyze
    evidence for arbitrary inductively defined propositions, not just
    equality.  As examples, we'll use it to re-prove some theorems
    from chapter <a href="Tactics.html"><span class="inlineref">Tactics</span></a>.  (Here we are being a bit lazy by
    omitting the <span class="inlinecode"><span class="id" title="keyword">as</span></span> clause from <span class="inlinecode"><span class="id" title="tactic">inversion</span></span>, thereby asking Coq to
    choose names for the variables and hypotheses that it introduces.) 
</div>
<div class="code">

<span class="id" title="keyword">Theorem</span> <a id="inversion_ex<sub>1</sub>" class="idref" href="#inversion_ex<sub>1</sub>"><span class="id" title="lemma">inversion_ex<sub>1</sub></span></a> : <span class="id" title="keyword">∀</span> (<a id="n:70" class="idref" href="#n:70"><span class="id" title="binder">n</span></a> <a id="m:71" class="idref" href="#m:71"><span class="id" title="binder">m</span></a> <a id="o:72" class="idref" href="#o:72"><span class="id" title="binder">o</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">[</span></a><a class="idref" href="IndProp1.html#n:70"><span class="id" title="variable">n</span></a><a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="IndProp1.html#m:71"><span class="id" title="variable">m</span></a><a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">[</span></a><a class="idref" href="IndProp1.html#o:72"><span class="id" title="variable">o</span></a><a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="IndProp1.html#o:72"><span class="id" title="variable">o</span></a><a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">[</span></a><a class="idref" href="IndProp1.html#n:70"><span class="id" title="variable">n</span></a><a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">[</span></a><a class="idref" href="IndProp1.html#m:71"><span class="id" title="variable">m</span></a><a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> <span class="id" title="var">o</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Theorem</span> <a id="inversion_ex<sub>2</sub>" class="idref" href="#inversion_ex<sub>2</sub>"><span class="id" title="lemma">inversion_ex<sub>2</sub></span></a> : <span class="id" title="keyword">∀</span> (<a id="n:73" class="idref" href="#n:73"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="IndProp1.html#n:73"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> 2 <a class="idref" href="Basics.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 2 <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 5.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">contra</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">contra</span>. <span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
Here's how <span class="inlinecode"><span class="id" title="tactic">inversion</span></span> works in general.
<ul class="doclist">
<li> Suppose the name <span class="inlinecode"><span class="id" title="var">H</span></span> refers to an assumption <span class="inlinecode"><span class="id" title="var">P</span></span> in the
        current context, where <span class="inlinecode"><span class="id" title="var">P</span></span> has been defined by an <span class="inlinecode"><span class="id" title="keyword">Inductive</span></span>
        declaration.

</li>
<li> Then, for each of the constructors of <span class="inlinecode"><span class="id" title="var">P</span></span>, <span class="inlinecode"><span class="id" title="tactic">inversion</span></span> <span class="inlinecode"><span class="id" title="var">H</span></span>
        generates a subgoal in which <span class="inlinecode"><span class="id" title="var">H</span></span> has been replaced by the
        specific conditions under which this constructor could have
        been used to prove <span class="inlinecode"><span class="id" title="var">P</span></span>.

</li>
<li> Some of these subgoals will be self-contradictory; <span class="inlinecode"><span class="id" title="tactic">inversion</span></span>
        throws these away.

</li>
<li> The ones that are left represent the cases that must be proved
        to establish the original goal.  For those, <span class="inlinecode"><span class="id" title="tactic">inversion</span></span> adds
        to the proof context all equations that must hold of the
        arguments given to <span class="inlinecode"><span class="id" title="var">P</span></span> -- e.g., <span class="inlinecode"><span class="id" title="var">S</span></span> <span class="inlinecode">(<span class="id" title="var">S</span></span> <span class="inlinecode"><span class="id" title="var">n'</span>)</span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">n</span></span> in the proof of
        <span class="inlinecode"><span class="id" title="var">evSS_ev</span></span>). 
</li>
</ul>

<div class="paragraph"> </div>

 The <span class="inlinecode"><span class="id" title="var">ev_double</span></span> exercise above allows us to easily show that
    our new notion of evenness is implied by the two earlier ones
    (since, by <span class="inlinecode"><span class="id" title="var">even_bool_prop</span></span> in chapter <a href="Logic.html"><span class="inlineref">Logic</span></a>, we already
    know that those are equivalent to each other). To show that all
    three coincide, we just need the following lemma. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="ev_Even_firsttry" class="idref" href="#ev_Even_firsttry"><span class="id" title="lemma">ev_Even_firsttry</span></a> : <span class="id" title="keyword">∀</span> <a id="n:74" class="idref" href="#n:74"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="IndProp1.html#ev"><span class="id" title="inductive">ev</span></a> <a class="idref" href="IndProp1.html#n:74"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Logic.html#Even"><span class="id" title="definition">Even</span></a> <a class="idref" href="IndProp1.html#n:74"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;WORKED&nbsp;IN&nbsp;CLASS&nbsp;*)</span> <span class="id" title="tactic">unfold</span> <a class="idref" href="Logic.html#Even"><span class="id" title="definition">Even</span></a>.<br/>
</div>

<div class="doc">
We could try to proceed by case analysis or induction on <span class="inlinecode"><span class="id" title="var">n</span></span>.  But
    since <span class="inlinecode"><span class="id" title="var">ev</span></span> is mentioned in a premise, this strategy seems
    unpromising, because (as we've noted before) the induction
    hypothesis will talk about <span class="inlinecode"><span class="id" title="var">n</span>-1</span> (which is <i>not</i> even!).  Thus, it
    seems better to first try <span class="inlinecode"><span class="id" title="tactic">inversion</span></span> on the evidence for <span class="inlinecode"><span class="id" title="var">ev</span></span>.
    Indeed, the first case can be solved trivially. And we can
    seemingly make progress on the second case with a helper lemma. 
</div>
<div class="code">

&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">E</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">E</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">EQ'</span> | <span class="id" title="var">n'</span> <span class="id" title="var">E'</span> <span class="id" title="var">EQ'</span>].<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;E&nbsp;=&nbsp;ev_0&nbsp;*)</span> <span class="id" title="tactic">∃</span> 0. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;E&nbsp;=&nbsp;ev_SS&nbsp;n'&nbsp;E'&nbsp;*)</span><br/>
</div>

<div class="doc">
Unfortunately, the second case is harder.  We need to show <span class="inlinecode"><span class="id" title="tactic">∃</span></span>
    <span class="inlinecode"><span class="id" title="var">n<sub>0</sub></span>,</span> <span class="inlinecode"><span class="id" title="var">S</span></span> <span class="inlinecode">(<span class="id" title="var">S</span></span> <span class="inlinecode"><span class="id" title="var">n'</span>)</span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">double</span></span> <span class="inlinecode"><span class="id" title="var">n<sub>0</sub></span></span>, but the only available assumption is
    <span class="inlinecode"><span class="id" title="var">E'</span></span>, which states that <span class="inlinecode"><span class="id" title="var">ev</span></span> <span class="inlinecode"><span class="id" title="var">n'</span></span> holds.  Since this isn't directly
    useful, it seems that we are stuck and that performing case
    analysis on <span class="inlinecode"><span class="id" title="var">E</span></span> was a waste of time.

<div class="paragraph"> </div>

    If we look more closely at our second goal, however, we can see
    that something interesting happened: By performing case analysis
    on <span class="inlinecode"><span class="id" title="var">E</span></span>, we were able to reduce the original result to a similar
    one that involves a <i>different</i> piece of evidence for <span class="inlinecode"><span class="id" title="var">ev</span></span>: namely
    <span class="inlinecode"><span class="id" title="var">E'</span></span>.  More formally, we could finish our proof if we could show
    that
<br/>
<span class="inlinecode">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">k'</span>, <span class="id" title="var">n'</span> = <span class="id" title="var">double</span> <span class="id" title="var">k'</span>,
</span>    which is the same as the original statement, but with <span class="inlinecode"><span class="id" title="var">n'</span></span> instead
    of <span class="inlinecode"><span class="id" title="var">n</span></span>.  Indeed, it is not difficult to convince Coq that this
    intermediate result would suffice. 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">H</span>: <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="k':77" class="idref" href="#k':77"><span class="id" title="binder">k'</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <span class="id" title="var">n'</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Induction.html#double"><span class="id" title="definition">double</span></a> <a class="idref" href="IndProp1.html#k':75"><span class="id" title="variable">k'</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="n<sub>0</sub>:78" class="idref" href="#n<sub>0</sub>:78"><span class="id" title="binder">n<sub>0</sub></span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n'</span>) <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Induction.html#double"><span class="id" title="definition">double</span></a> <a class="idref" href="IndProp1.html#n<sub>0</sub>:76"><span class="id" title="variable">n<sub>0</sub></span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> [<span class="id" title="var">k'</span> <span class="id" title="var">EQ''</span>]. <span class="id" title="tactic">∃</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">k'</span>). <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">EQ''</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
</div>

<div class="doc">
Unfortunately, now we are stuck. To see this clearly, let's
        move <span class="inlinecode"><span class="id" title="var">E'</span></span> back into the goal from the hypotheses. 
</div>
<div class="code">

&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">E'</span>.<br/>
</div>

<div class="doc">
Now it is obvious that we are trying to prove another instance
        of the same theorem we set out to prove -- only here we are
        talking about <span class="inlinecode"><span class="id" title="var">n'</span></span> instead of <span class="inlinecode"><span class="id" title="var">n</span></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Abort</span>.<br/>
</div>

<div class="doc">
<a id="lab246"></a><h2 class="section">Induction on Evidence</h2>

<div class="paragraph"> </div>

 If this story feels familiar, it is no coincidence: We've
    encountered similar problems in the <a href="Induction.html"><span class="inlineref">Induction</span></a> chapter, when
    trying to use case analysis to prove results that required
    induction.  And once again the solution is... induction! 
<div class="paragraph"> </div>

 The behavior of <span class="inlinecode"><span class="id" title="tactic">induction</span></span> on evidence is the same as its
    behavior on data: It causes Coq to generate one subgoal for each
    constructor that could have used to build that evidence, while
    providing an induction hypothesis for each recursive occurrence of
    the property in question.

<div class="paragraph"> </div>

    To prove that a property of <span class="inlinecode"><span class="id" title="var">n</span></span> holds for all even numbers (i.e.,
    those for which <span class="inlinecode"><span class="id" title="var">ev</span></span> <span class="inlinecode"><span class="id" title="var">n</span></span> holds), we can use induction on <span class="inlinecode"><span class="id" title="var">ev</span></span>
    <span class="inlinecode"><span class="id" title="var">n</span></span>. This requires us to prove two things, corresponding to the two
    ways in which <span class="inlinecode"><span class="id" title="var">ev</span></span> <span class="inlinecode"><span class="id" title="var">n</span></span> could have been constructed. If it was
    constructed by <span class="inlinecode"><span class="id" title="var">ev_0</span></span>, then <span class="inlinecode"><span class="id" title="var">n</span>=0</span> and the property must hold of
    <span class="inlinecode">0</span>. If it was constructed by <span class="inlinecode"><span class="id" title="var">ev_SS</span></span>, then the evidence of <span class="inlinecode"><span class="id" title="var">ev</span></span> <span class="inlinecode"><span class="id" title="var">n</span></span>
    is of the form <span class="inlinecode"><span class="id" title="var">ev_SS</span></span> <span class="inlinecode"><span class="id" title="var">n'</span></span> <span class="inlinecode"><span class="id" title="var">E'</span></span>, where <span class="inlinecode"><span class="id" title="var">n</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">S</span></span> <span class="inlinecode">(<span class="id" title="var">S</span></span> <span class="inlinecode"><span class="id" title="var">n'</span>)</span> and <span class="inlinecode"><span class="id" title="var">E'</span></span> is
    evidence for <span class="inlinecode"><span class="id" title="var">ev</span></span> <span class="inlinecode"><span class="id" title="var">n'</span></span>. In this case, the inductive hypothesis says
    that the property we are trying to prove holds for <span class="inlinecode"><span class="id" title="var">n'</span></span>. 
<div class="paragraph"> </div>

 Let's try proving that lemma again: 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="ev_Even" class="idref" href="#ev_Even"><span class="id" title="lemma">ev_Even</span></a> : <span class="id" title="keyword">∀</span> <a id="n:79" class="idref" href="#n:79"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="IndProp1.html#ev"><span class="id" title="inductive">ev</span></a> <a class="idref" href="IndProp1.html#n:79"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Logic.html#Even"><span class="id" title="definition">Even</span></a> <a class="idref" href="IndProp1.html#n:79"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Logic.html#Even"><span class="id" title="definition">Even</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">E</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n'</span> <span class="id" title="var">E'</span> <span class="id" title="var">IH</span>].<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;E&nbsp;=&nbsp;ev_0&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> 0. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;E&nbsp;=&nbsp;ev_SS&nbsp;n'&nbsp;E',&nbsp;&nbsp;with&nbsp;IH&nbsp;:&nbsp;Even&nbsp;n'&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">k</span> <span class="id" title="var">Hk</span>]. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hk</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">k</span>). <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
Here, we can see that Coq produced an <span class="inlinecode"><span class="id" title="var">IH</span></span> that corresponds
    to <span class="inlinecode"><span class="id" title="var">E'</span></span>, the single recursive occurrence of <span class="inlinecode"><span class="id" title="var">ev</span></span> in its own
    definition.  Since <span class="inlinecode"><span class="id" title="var">E'</span></span> mentions <span class="inlinecode"><span class="id" title="var">n'</span></span>, the induction hypothesis
    talks about <span class="inlinecode"><span class="id" title="var">n'</span></span>, as opposed to <span class="inlinecode"><span class="id" title="var">n</span></span> or some other number. 
<div class="paragraph"> </div>

 The equivalence between the second and third definitions of
    evenness now follows. 
</div>
<div class="code">

<span class="id" title="keyword">Theorem</span> <a id="ev_Even_iff" class="idref" href="#ev_Even_iff"><span class="id" title="lemma">ev_Even_iff</span></a> : <span class="id" title="keyword">∀</span> <a id="n:80" class="idref" href="#n:80"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="IndProp1.html#ev"><span class="id" title="inductive">ev</span></a> <a class="idref" href="IndProp1.html#n:80"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="Logic.html#Even"><span class="id" title="definition">Even</span></a> <a class="idref" href="IndProp1.html#n:80"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span>&nbsp;*)</span> <span class="id" title="tactic">apply</span> <a class="idref" href="IndProp1.html#ev_Even"><span class="id" title="lemma">ev_Even</span></a>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;&lt;-&nbsp;*)</span> <span class="id" title="tactic">unfold</span> <a class="idref" href="Logic.html#Even"><span class="id" title="definition">Even</span></a>. <span class="id" title="tactic">intros</span> [<span class="id" title="var">k</span> <span class="id" title="var">Hk</span>]. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hk</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="IndProp1.html#ev_double"><span class="id" title="axiom">ev_double</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
As we will see in later chapters, induction on evidence is a
    recurring technique across many areas -- in particular for
    formalizing the semantics of programming languages. 
<div class="paragraph"> </div>

 The following exercises provide simpler examples of this
    technique, to help you familiarize yourself with it. 
<div class="paragraph"> </div>

<a id="lab247"></a><h4 class="section">Exercise: 2 stars, standard (ev_sum)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a id="ev_sum" class="idref" href="#ev_sum"><span class="id" title="lemma">ev_sum</span></a> : <span class="id" title="keyword">∀</span> <a id="n:81" class="idref" href="#n:81"><span class="id" title="binder">n</span></a> <a id="m:82" class="idref" href="#m:82"><span class="id" title="binder">m</span></a>, <a class="idref" href="IndProp1.html#ev"><span class="id" title="inductive">ev</span></a> <a class="idref" href="IndProp1.html#n:81"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="IndProp1.html#ev"><span class="id" title="inductive">ev</span></a> <a class="idref" href="IndProp1.html#m:82"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="IndProp1.html#ev"><span class="id" title="inductive">ev</span></a> (<a class="idref" href="IndProp1.html#n:81"><span class="id" title="variable">n</span></a> <a class="idref" href="Basics.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="IndProp1.html#m:82"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

<a id="lab248"></a><h4 class="section">Exercise: 3 stars, advanced, especially useful (ev_ev__ev)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a id="ev_ev__ev" class="idref" href="#ev_ev__ev"><span class="id" title="lemma">ev_ev__ev</span></a> : <span class="id" title="keyword">∀</span> <a id="n:83" class="idref" href="#n:83"><span class="id" title="binder">n</span></a> <a id="m:84" class="idref" href="#m:84"><span class="id" title="binder">m</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="IndProp1.html#ev"><span class="id" title="inductive">ev</span></a> (<a class="idref" href="IndProp1.html#n:83"><span class="id" title="variable">n</span></a><a class="idref" href="Basics.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><a class="idref" href="IndProp1.html#m:84"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="IndProp1.html#ev"><span class="id" title="inductive">ev</span></a> <a class="idref" href="IndProp1.html#n:83"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="IndProp1.html#ev"><span class="id" title="inductive">ev</span></a> <a class="idref" href="IndProp1.html#m:84"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Hint:&nbsp;There&nbsp;are&nbsp;two&nbsp;pieces&nbsp;of&nbsp;evidence&nbsp;you&nbsp;could&nbsp;attempt&nbsp;to&nbsp;induct&nbsp;upon<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;here.&nbsp;If&nbsp;one&nbsp;doesn't&nbsp;work,&nbsp;try&nbsp;the&nbsp;other.&nbsp;*)</span><br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

<a id="lab249"></a><h4 class="section">Exercise: 3 stars, standard, optional (ev_plus_plus)</h4>
 This exercise can be completed without induction or case analysis.
    But, you will need a clever assertion and some tedious rewriting.
    Hint: Is <span class="inlinecode">(<span class="id" title="var">n</span>+<span class="id" title="var">m</span>)</span> <span class="inlinecode">+</span> <span class="inlinecode">(<span class="id" title="var">n</span>+<span class="id" title="var">p</span>)</span> even? 
</div>
<div class="code">

<span class="id" title="keyword">Theorem</span> <a id="ev_plus_plus" class="idref" href="#ev_plus_plus"><span class="id" title="lemma">ev_plus_plus</span></a> : <span class="id" title="keyword">∀</span> <a id="n:85" class="idref" href="#n:85"><span class="id" title="binder">n</span></a> <a id="m:86" class="idref" href="#m:86"><span class="id" title="binder">m</span></a> <a id="p:87" class="idref" href="#p:87"><span class="id" title="binder">p</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="IndProp1.html#ev"><span class="id" title="inductive">ev</span></a> (<a class="idref" href="IndProp1.html#n:85"><span class="id" title="variable">n</span></a><a class="idref" href="Basics.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><a class="idref" href="IndProp1.html#m:86"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="IndProp1.html#ev"><span class="id" title="inductive">ev</span></a> (<a class="idref" href="IndProp1.html#n:85"><span class="id" title="variable">n</span></a><a class="idref" href="Basics.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><a class="idref" href="IndProp1.html#p:87"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="IndProp1.html#ev"><span class="id" title="inductive">ev</span></a> (<a class="idref" href="IndProp1.html#m:86"><span class="id" title="variable">m</span></a><a class="idref" href="Basics.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><a class="idref" href="IndProp1.html#p:87"><span class="id" title="variable">p</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

<a id="lab250"></a><h4 class="section">Exercise: 4 stars, advanced, optional (ev'_ev)</h4>
 In general, there may be multiple ways of defining a
    property inductively.  For example, here's a (slightly contrived)
    alternative definition for <span class="inlinecode"><span class="id" title="var">ev</span></span>: 
</div>
<div class="code">

<span class="id" title="keyword">Inductive</span> <a id="ev'" class="idref" href="#ev'"><span class="id" title="inductive">ev'</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="ev'_0" class="idref" href="#ev'_0"><span class="id" title="constructor">ev'_0</span></a> : <a class="idref" href="IndProp1.html#ev':88"><span class="id" title="inductive">ev'</span></a> 0<br/>
&nbsp;&nbsp;| <a id="ev'_2" class="idref" href="#ev'_2"><span class="id" title="constructor">ev'_2</span></a> : <a class="idref" href="IndProp1.html#ev':88"><span class="id" title="inductive">ev'</span></a> 2<br/>
&nbsp;&nbsp;| <a id="ev'_sum" class="idref" href="#ev'_sum"><span class="id" title="constructor">ev'_sum</span></a> <a id="n:90" class="idref" href="#n:90"><span class="id" title="binder">n</span></a> <a id="m:91" class="idref" href="#m:91"><span class="id" title="binder">m</span></a> (<a id="Hn:92" class="idref" href="#Hn:92"><span class="id" title="binder">Hn</span></a> : <a class="idref" href="IndProp1.html#ev':88"><span class="id" title="inductive">ev'</span></a> <a class="idref" href="IndProp1.html#n:90"><span class="id" title="variable">n</span></a>) (<a id="Hm:93" class="idref" href="#Hm:93"><span class="id" title="binder">Hm</span></a> : <a class="idref" href="IndProp1.html#ev':88"><span class="id" title="inductive">ev'</span></a> <a class="idref" href="IndProp1.html#m:91"><span class="id" title="variable">m</span></a>) : <a class="idref" href="IndProp1.html#ev':88"><span class="id" title="inductive">ev'</span></a> (<a class="idref" href="IndProp1.html#n:90"><span class="id" title="variable">n</span></a> <a class="idref" href="Basics.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="IndProp1.html#m:91"><span class="id" title="variable">m</span></a>).<br/>
</div>

<div class="doc">
Prove that this definition is logically equivalent to the old one.
    To streamline the proof, use the technique (from the <a href="Logic.html"><span class="inlineref">Logic</span></a>
    chapter) of applying theorems to arguments, and note that the same
    technique works with constructors of inductively defined
    propositions. 
</div>
<div class="code">

<span class="id" title="keyword">Theorem</span> <a id="ev'_ev" class="idref" href="#ev'_ev"><span class="id" title="lemma">ev'_ev</span></a> : <span class="id" title="keyword">∀</span> <a id="n:94" class="idref" href="#n:94"><span class="id" title="binder">n</span></a>, <a class="idref" href="IndProp1.html#ev'"><span class="id" title="inductive">ev'</span></a> <a class="idref" href="IndProp1.html#n:94"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="IndProp1.html#ev"><span class="id" title="inductive">ev</span></a> <a class="idref" href="IndProp1.html#n:94"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

 We can do similar inductive proofs on the <span class="inlinecode"><span class="id" title="var">Perm3</span></span> relation: 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="Perm3_symm" class="idref" href="#Perm3_symm"><span class="id" title="lemma">Perm3_symm</span></a> : <span class="id" title="keyword">∀</span> (<a id="X:95" class="idref" href="#X:95"><span class="id" title="binder">X</span></a> : <span class="id" title="keyword">Type</span>) (<a id="l<sub>1</sub>:96" class="idref" href="#l<sub>1</sub>:96"><span class="id" title="binder">l<sub>1</sub></span></a> <a id="l<sub>2</sub>:97" class="idref" href="#l<sub>2</sub>:97"><span class="id" title="binder">l<sub>2</sub></span></a> : <a class="idref" href="Poly.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="IndProp1.html#X:95"><span class="id" title="variable">X</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="IndProp1.html#Perm3"><span class="id" title="inductive">Perm3</span></a> <a class="idref" href="IndProp1.html#l<sub>1</sub>:96"><span class="id" title="variable">l<sub>1</sub></span></a> <a class="idref" href="IndProp1.html#l<sub>2</sub>:97"><span class="id" title="variable">l<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="IndProp1.html#Perm3"><span class="id" title="inductive">Perm3</span></a> <a class="idref" href="IndProp1.html#l<sub>2</sub>:97"><span class="id" title="variable">l<sub>2</sub></span></a> <a class="idref" href="IndProp1.html#l<sub>1</sub>:96"><span class="id" title="variable">l<sub>1</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">l<sub>1</sub></span> <span class="id" title="var">l<sub>2</sub></span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">E</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> | <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> | <span class="id" title="var">l<sub>1</sub></span> <span class="id" title="var">l<sub>2</sub></span> <span class="id" title="var">l<sub>3</sub></span> <span class="id" title="var">E<sub>12</sub></span> <span class="id" title="var">IH<sub>12</sub></span> <span class="id" title="var">E<sub>23</sub></span> <span class="id" title="var">IH<sub>23</sub></span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="IndProp1.html#perm3_swap12"><span class="id" title="constructor">perm3_swap12</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="IndProp1.html#perm3_swap23"><span class="id" title="constructor">perm3_swap23</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="IndProp1.html#perm3_trans"><span class="id" title="constructor">perm3_trans</span></a> <span class="id" title="var">_</span> <span class="id" title="var">l<sub>2</sub></span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <span class="id" title="var">IH<sub>23</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <span class="id" title="var">IH<sub>12</sub></span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a id="lab251"></a><h4 class="section">Exercise: 2 stars, standard (Perm3_In)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="Perm3_In" class="idref" href="#Perm3_In"><span class="id" title="lemma">Perm3_In</span></a> : <span class="id" title="keyword">∀</span> (<a id="X:98" class="idref" href="#X:98"><span class="id" title="binder">X</span></a> : <span class="id" title="keyword">Type</span>) (<a id="x:99" class="idref" href="#x:99"><span class="id" title="binder">x</span></a> : <a class="idref" href="IndProp1.html#X:98"><span class="id" title="variable">X</span></a>) (<a id="l<sub>1</sub>:100" class="idref" href="#l<sub>1</sub>:100"><span class="id" title="binder">l<sub>1</sub></span></a> <a id="l<sub>2</sub>:101" class="idref" href="#l<sub>2</sub>:101"><span class="id" title="binder">l<sub>2</sub></span></a> : <a class="idref" href="Poly.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="IndProp1.html#X:98"><span class="id" title="variable">X</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="IndProp1.html#Perm3"><span class="id" title="inductive">Perm3</span></a> <a class="idref" href="IndProp1.html#l<sub>1</sub>:100"><span class="id" title="variable">l<sub>1</sub></span></a> <a class="idref" href="IndProp1.html#l<sub>2</sub>:101"><span class="id" title="variable">l<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Logic.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="IndProp1.html#x:99"><span class="id" title="variable">x</span></a> <a class="idref" href="IndProp1.html#l<sub>1</sub>:100"><span class="id" title="variable">l<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Logic.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="IndProp1.html#x:99"><span class="id" title="variable">x</span></a> <a class="idref" href="IndProp1.html#l<sub>2</sub>:101"><span class="id" title="variable">l<sub>2</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

<a id="lab252"></a><h4 class="section">Exercise: 1 star, standard, optional (Perm3_NotIn)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="Perm3_NotIn" class="idref" href="#Perm3_NotIn"><span class="id" title="lemma">Perm3_NotIn</span></a> : <span class="id" title="keyword">∀</span> (<a id="X:102" class="idref" href="#X:102"><span class="id" title="binder">X</span></a> : <span class="id" title="keyword">Type</span>) (<a id="x:103" class="idref" href="#x:103"><span class="id" title="binder">x</span></a> : <a class="idref" href="IndProp1.html#X:102"><span class="id" title="variable">X</span></a>) (<a id="l<sub>1</sub>:104" class="idref" href="#l<sub>1</sub>:104"><span class="id" title="binder">l<sub>1</sub></span></a> <a id="l<sub>2</sub>:105" class="idref" href="#l<sub>2</sub>:105"><span class="id" title="binder">l<sub>2</sub></span></a> : <a class="idref" href="Poly.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="IndProp1.html#X:102"><span class="id" title="variable">X</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="IndProp1.html#Perm3"><span class="id" title="inductive">Perm3</span></a> <a class="idref" href="IndProp1.html#l<sub>1</sub>:104"><span class="id" title="variable">l<sub>1</sub></span></a> <a class="idref" href="IndProp1.html#l<sub>2</sub>:105"><span class="id" title="variable">l<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="Logic.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="IndProp1.html#x:103"><span class="id" title="variable">x</span></a> <a class="idref" href="IndProp1.html#l<sub>1</sub>:104"><span class="id" title="variable">l<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="Logic.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="IndProp1.html#x:103"><span class="id" title="variable">x</span></a> <a class="idref" href="IndProp1.html#l<sub>2</sub>:105"><span class="id" title="variable">l<sub>2</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

<a id="lab253"></a><h4 class="section">Exercise: 2 stars, standard, optional (NotPerm3)</h4>
 Proving that something is NOT a permutation is quite tricky. Some
    of the lemmas above, like <span class="inlinecode"><span class="id" title="var">Perm3_In</span></span> can be useful for this. 
</div>
<div class="code">
<span class="id" title="keyword">Example</span> <a id="Perm3_example2" class="idref" href="#Perm3_example2"><span class="id" title="definition">Perm3_example2</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="IndProp1.html#Perm3"><span class="id" title="inductive">Perm3</span></a> <a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">[</span></a>1<a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">;</span></a>2<a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">;</span></a>3<a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">[</span></a>1<a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">;</span></a>2<a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">;</span></a>4<a class="idref" href="Poly.html#fa57d319973f6d58544a8887d0d48ea<sub>6</sub>"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>


<div class="doc">
<a id="lab254"></a><h1 class="section">Inductive Relations</h1>

<div class="paragraph"> </div>

 A proposition parameterized by a number (such as <span class="inlinecode"><span class="id" title="var">ev</span></span>)
    can be thought of as a <i>property</i> -- i.e., it defines
    a subset of <span class="inlinecode"><span class="id" title="var">nat</span></span>, namely those numbers for which the proposition
    is provable.  In the same way, a two-argument proposition can be
    thought of as a <i>relation</i> -- i.e., it defines a set of pairs for
    which the proposition is provable. 
</div>
<div class="code">

<span class="id" title="keyword">Module</span> <a id="Playground" class="idref" href="#Playground"><span class="id" title="module">Playground</span></a>.<br/>
</div>

<div class="doc">
Just like properties, relations can be defined inductively.  One
    useful example is the "less than or equal to" relation on numbers
    that we briefly saw above. 
</div>
<div class="code">

<span class="id" title="keyword">Inductive</span> <a id="Playground.le" class="idref" href="#Playground.le"><span class="id" title="inductive">le</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="Playground.le_n" class="idref" href="#Playground.le_n"><span class="id" title="constructor">le_n</span></a> (<a id="n:108" class="idref" href="#n:108"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)                : <a class="idref" href="IndProp1.html#le:106"><span class="id" title="inductive">le</span></a> <a class="idref" href="IndProp1.html#n:108"><span class="id" title="variable">n</span></a> <a class="idref" href="IndProp1.html#n:108"><span class="id" title="variable">n</span></a><br/>
&nbsp;&nbsp;| <a id="Playground.le_S" class="idref" href="#Playground.le_S"><span class="id" title="constructor">le_S</span></a> (<a id="n:109" class="idref" href="#n:109"><span class="id" title="binder">n</span></a> <a id="m:110" class="idref" href="#m:110"><span class="id" title="binder">m</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="H:111" class="idref" href="#H:111"><span class="id" title="binder">H</span></a> : <a class="idref" href="IndProp1.html#le:106"><span class="id" title="inductive">le</span></a> <a class="idref" href="IndProp1.html#n:109"><span class="id" title="variable">n</span></a> <a class="idref" href="IndProp1.html#m:110"><span class="id" title="variable">m</span></a>) : <a class="idref" href="IndProp1.html#le:106"><span class="id" title="inductive">le</span></a> <a class="idref" href="IndProp1.html#n:109"><span class="id" title="variable">n</span></a> (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="IndProp1.html#m:110"><span class="id" title="variable">m</span></a>).<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Notation</span> <a id="54393287b5cd7fe8cf0ab9e9f4e17431" class="idref" href="#54393287b5cd7fe8cf0ab9e9f4e17431"><span class="id" title="notation">&quot;</span></a>n &lt;= m" := (<a class="idref" href="IndProp1.html#Playground.le"><span class="id" title="inductive">le</span></a> <span class="id" title="var">n</span> <span class="id" title="var">m</span>).<br/>
</div>

<div class="doc">
(We've written the definition a bit differently this time,
    giving explicit names to the arguments to the constructors and
    moving them to the left of the colons.) 
<div class="paragraph"> </div>

 Proofs of facts about <span class="inlinecode">≤</span> using the constructors <span class="inlinecode"><span class="id" title="var">le_n</span></span> and
    <span class="inlinecode"><span class="id" title="var">le_S</span></span> follow the same patterns as proofs about properties, like
    <span class="inlinecode"><span class="id" title="var">ev</span></span> above. We can <span class="inlinecode"><span class="id" title="tactic">apply</span></span> the constructors to prove <span class="inlinecode">≤</span>
    goals (e.g., to show that <span class="inlinecode">3&lt;=3</span> or <span class="inlinecode">3&lt;=6</span>), and we can use
    tactics like <span class="inlinecode"><span class="id" title="tactic">inversion</span></span> to extract information from <span class="inlinecode">≤</span>
    hypotheses in the context (e.g., to prove that <span class="inlinecode">(2</span> <span class="inlinecode">≤</span> <span class="inlinecode">1)</span> <span class="inlinecode">→</span>
    <span class="inlinecode">2+2=5</span>.) 
<div class="paragraph"> </div>

 Here are some sanity checks on the definition.  (Notice that,
    although these are the same kind of simple "unit tests" as we gave
    for the testing functions we wrote in the first few lectures, we
    must construct their proofs explicitly -- <span class="inlinecode"><span class="id" title="tactic">simpl</span></span> and
    <span class="inlinecode"><span class="id" title="tactic">reflexivity</span></span> don't do the job, because the proofs aren't just a
    matter of simplifying computations.) 
</div>
<div class="code">

<span class="id" title="keyword">Theorem</span> <a id="Playground.test_le<sub>1</sub>" class="idref" href="#Playground.test_le<sub>1</sub>"><span class="id" title="lemma">test_le<sub>1</sub></span></a> :<br/>
&nbsp;&nbsp;3 <a class="idref" href="IndProp1.html#54393287b5cd7fe8cf0ab9e9f4e17431"><span class="id" title="notation">≤</span></a> 3.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;WORKED&nbsp;IN&nbsp;CLASS&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="IndProp1.html#Playground.le_n"><span class="id" title="constructor">le_n</span></a>. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Theorem</span> <a id="Playground.test_le<sub>2</sub>" class="idref" href="#Playground.test_le<sub>2</sub>"><span class="id" title="lemma">test_le<sub>2</sub></span></a> :<br/>
&nbsp;&nbsp;3 <a class="idref" href="IndProp1.html#54393287b5cd7fe8cf0ab9e9f4e17431"><span class="id" title="notation">≤</span></a> 6.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;WORKED&nbsp;IN&nbsp;CLASS&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="IndProp1.html#Playground.le_S"><span class="id" title="constructor">le_S</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="IndProp1.html#Playground.le_S"><span class="id" title="constructor">le_S</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="IndProp1.html#Playground.le_S"><span class="id" title="constructor">le_S</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="IndProp1.html#Playground.le_n"><span class="id" title="constructor">le_n</span></a>. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Theorem</span> <a id="Playground.test_le<sub>3</sub>" class="idref" href="#Playground.test_le<sub>3</sub>"><span class="id" title="lemma">test_le<sub>3</sub></span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a>2 <a class="idref" href="IndProp1.html#54393287b5cd7fe8cf0ab9e9f4e17431"><span class="id" title="notation">≤</span></a> 1<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> 2 <a class="idref" href="Basics.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 2 <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 5.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;WORKED&nbsp;IN&nbsp;CLASS&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>2</sub></span>. <span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
The "strictly less than" relation <span class="inlinecode"><span class="id" title="var">n</span></span> <span class="inlinecode">&lt;</span> <span class="inlinecode"><span class="id" title="var">m</span></span> can now be defined
    in terms of <span class="inlinecode"><span class="id" title="var">le</span></span>. 
</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="Playground.lt" class="idref" href="#Playground.lt"><span class="id" title="definition">lt</span></a> (<a id="n:112" class="idref" href="#n:112"><span class="id" title="binder">n</span></a> <a id="m:113" class="idref" href="#m:113"><span class="id" title="binder">m</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) := <a class="idref" href="IndProp1.html#Playground.le"><span class="id" title="inductive">le</span></a> (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="IndProp1.html#n:112"><span class="id" title="variable">n</span></a>) <a class="idref" href="IndProp1.html#m:113"><span class="id" title="variable">m</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Notation</span> <a id="Playground.:::x_'&lt;'_x" class="idref" href="#Playground.:::x_'&lt;'_x"><span class="id" title="notation">&quot;</span></a>m &lt; n" := (<a class="idref" href="IndProp1.html#Playground.lt"><span class="id" title="definition">lt</span></a> <span class="id" title="var">m</span> <span class="id" title="var">n</span>).<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">End</span> <a class="idref" href="IndProp1.html#Playground"><span class="id" title="module">Playground</span></a>.<br/>
</div>

<div class="doc">
From the definition of <span class="inlinecode"><span class="id" title="var">le</span></span>, we can sketch the behaviors of
    <span class="inlinecode"><span class="id" title="tactic">destruct</span></span>, <span class="inlinecode"><span class="id" title="tactic">inversion</span></span>, and <span class="inlinecode"><span class="id" title="tactic">induction</span></span> on a hypothesis <span class="inlinecode"><span class="id" title="var">H</span></span>
    providing evidence of the form <span class="inlinecode"><span class="id" title="var">le</span></span> <span class="inlinecode"><span class="id" title="var">e<sub>1</sub></span></span> <span class="inlinecode"><span class="id" title="var">e<sub>2</sub></span></span>.  Doing <span class="inlinecode"><span class="id" title="tactic">destruct</span></span> <span class="inlinecode"><span class="id" title="var">H</span></span>
    will generate two cases. In the first case, <span class="inlinecode"><span class="id" title="var">e<sub>1</sub></span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">e<sub>2</sub></span></span>, and it
    will replace instances of <span class="inlinecode"><span class="id" title="var">e<sub>2</sub></span></span> with <span class="inlinecode"><span class="id" title="var">e<sub>1</sub></span></span> in the goal and context.
    In the second case, <span class="inlinecode"><span class="id" title="var">e<sub>2</sub></span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">S</span></span> <span class="inlinecode"><span class="id" title="var">n'</span></span> for some <span class="inlinecode"><span class="id" title="var">n'</span></span> for which <span class="inlinecode"><span class="id" title="var">le</span></span> <span class="inlinecode"><span class="id" title="var">e<sub>1</sub></span></span> <span class="inlinecode"><span class="id" title="var">n'</span></span>
    holds, and it will replace instances of <span class="inlinecode"><span class="id" title="var">e<sub>2</sub></span></span> with <span class="inlinecode"><span class="id" title="var">S</span></span> <span class="inlinecode"><span class="id" title="var">n'</span></span>.
    Doing <span class="inlinecode"><span class="id" title="tactic">inversion</span></span> <span class="inlinecode"><span class="id" title="var">H</span></span> will remove impossible cases and add generated
    equalities to the context for further use. Doing <span class="inlinecode"><span class="id" title="tactic">induction</span></span> <span class="inlinecode"><span class="id" title="var">H</span></span>
    will, in the second case, add the induction hypothesis that the
    goal holds when <span class="inlinecode"><span class="id" title="var">e<sub>2</sub></span></span> is replaced with <span class="inlinecode"><span class="id" title="var">n'</span></span>. 
<div class="paragraph"> </div>

 Here are a number of facts about the <span class="inlinecode">≤</span> and <span class="inlinecode">&lt;</span> relations that
    we are going to need later in the course.  The proofs make good
    practice exercises. 
<div class="paragraph"> </div>

<a id="lab255"></a><h4 class="section">Exercise: 5 stars, standard, optional (le_and_lt_facts)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="le_trans" class="idref" href="#le_trans"><span class="id" title="lemma">le_trans</span></a> : <span class="id" title="keyword">∀</span> <a id="m:114" class="idref" href="#m:114"><span class="id" title="binder">m</span></a> <a id="n:115" class="idref" href="#n:115"><span class="id" title="binder">n</span></a> <a id="o:116" class="idref" href="#o:116"><span class="id" title="binder">o</span></a>, <a class="idref" href="IndProp1.html#m:114"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a<sub>3</sub>"><span class="id" title="notation">≤</span></a> <a class="idref" href="IndProp1.html#n:115"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="IndProp1.html#n:115"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a<sub>3</sub>"><span class="id" title="notation">≤</span></a> <a class="idref" href="IndProp1.html#o:116"><span class="id" title="variable">o</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="IndProp1.html#m:114"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a<sub>3</sub>"><span class="id" title="notation">≤</span></a> <a class="idref" href="IndProp1.html#o:116"><span class="id" title="variable">o</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Theorem</span> <a id="O_le_n" class="idref" href="#O_le_n"><span class="id" title="lemma">O_le_n</span></a> : <span class="id" title="keyword">∀</span> <a id="n:117" class="idref" href="#n:117"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;0 <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a<sub>3</sub>"><span class="id" title="notation">≤</span></a> <a class="idref" href="IndProp1.html#n:117"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Theorem</span> <a id="n_le_m__Sn_le_Sm" class="idref" href="#n_le_m__Sn_le_Sm"><span class="id" title="lemma">n_le_m__Sn_le_Sm</span></a> : <span class="id" title="keyword">∀</span> <a id="n:118" class="idref" href="#n:118"><span class="id" title="binder">n</span></a> <a id="m:119" class="idref" href="#m:119"><span class="id" title="binder">m</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="IndProp1.html#n:118"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a<sub>3</sub>"><span class="id" title="notation">≤</span></a> <a class="idref" href="IndProp1.html#m:119"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="IndProp1.html#n:118"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a<sub>3</sub>"><span class="id" title="notation">≤</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="IndProp1.html#m:119"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Theorem</span> <a id="Sn_le_Sm__n_le_m" class="idref" href="#Sn_le_Sm__n_le_m"><span class="id" title="lemma">Sn_le_Sm__n_le_m</span></a> : <span class="id" title="keyword">∀</span> <a id="n:120" class="idref" href="#n:120"><span class="id" title="binder">n</span></a> <a id="m:121" class="idref" href="#m:121"><span class="id" title="binder">m</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="IndProp1.html#n:120"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a<sub>3</sub>"><span class="id" title="notation">≤</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="IndProp1.html#m:121"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="IndProp1.html#n:120"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a<sub>3</sub>"><span class="id" title="notation">≤</span></a> <a class="idref" href="IndProp1.html#m:121"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Theorem</span> <a id="lt_ge_cases" class="idref" href="#lt_ge_cases"><span class="id" title="lemma">lt_ge_cases</span></a> : <span class="id" title="keyword">∀</span> <a id="n:122" class="idref" href="#n:122"><span class="id" title="binder">n</span></a> <a id="m:123" class="idref" href="#m:123"><span class="id" title="binder">m</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="IndProp1.html#n:122"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="IndProp1.html#m:123"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e<sub>25</sub>"><span class="id" title="notation">∨</span></a> <a class="idref" href="IndProp1.html#n:122"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f<sub>9</sub>"><span class="id" title="notation">≥</span></a> <a class="idref" href="IndProp1.html#m:123"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Theorem</span> <a id="le_plus_l" class="idref" href="#le_plus_l"><span class="id" title="lemma">le_plus_l</span></a> : <span class="id" title="keyword">∀</span> <a id="a:124" class="idref" href="#a:124"><span class="id" title="binder">a</span></a> <a id="b:125" class="idref" href="#b:125"><span class="id" title="binder">b</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="IndProp1.html#a:124"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a<sub>3</sub>"><span class="id" title="notation">≤</span></a> <a class="idref" href="IndProp1.html#a:124"><span class="id" title="variable">a</span></a> <a class="idref" href="Basics.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="IndProp1.html#b:125"><span class="id" title="variable">b</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Theorem</span> <a id="plus_le" class="idref" href="#plus_le"><span class="id" title="lemma">plus_le</span></a> : <span class="id" title="keyword">∀</span> <a id="n<sub>1</sub>:126" class="idref" href="#n<sub>1</sub>:126"><span class="id" title="binder">n<sub>1</sub></span></a> <a id="n<sub>2</sub>:127" class="idref" href="#n<sub>2</sub>:127"><span class="id" title="binder">n<sub>2</sub></span></a> <a id="m:128" class="idref" href="#m:128"><span class="id" title="binder">m</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="IndProp1.html#n<sub>1</sub>:126"><span class="id" title="variable">n<sub>1</sub></span></a> <a class="idref" href="Basics.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="IndProp1.html#n<sub>2</sub>:127"><span class="id" title="variable">n<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a<sub>3</sub>"><span class="id" title="notation">≤</span></a> <a class="idref" href="IndProp1.html#m:128"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="IndProp1.html#n<sub>1</sub>:126"><span class="id" title="variable">n<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a<sub>3</sub>"><span class="id" title="notation">≤</span></a> <a class="idref" href="IndProp1.html#m:128"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="IndProp1.html#n<sub>2</sub>:127"><span class="id" title="variable">n<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a<sub>3</sub>"><span class="id" title="notation">≤</span></a> <a class="idref" href="IndProp1.html#m:128"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Theorem</span> <a id="add_le_cases" class="idref" href="#add_le_cases"><span class="id" title="lemma">add_le_cases</span></a> : <span class="id" title="keyword">∀</span> <a id="n:129" class="idref" href="#n:129"><span class="id" title="binder">n</span></a> <a id="m:130" class="idref" href="#m:130"><span class="id" title="binder">m</span></a> <a id="p:131" class="idref" href="#p:131"><span class="id" title="binder">p</span></a> <a id="q:132" class="idref" href="#q:132"><span class="id" title="binder">q</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="IndProp1.html#n:129"><span class="id" title="variable">n</span></a> <a class="idref" href="Basics.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="IndProp1.html#m:130"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a<sub>3</sub>"><span class="id" title="notation">≤</span></a> <a class="idref" href="IndProp1.html#p:131"><span class="id" title="variable">p</span></a> <a class="idref" href="Basics.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="IndProp1.html#q:132"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="IndProp1.html#n:129"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a<sub>3</sub>"><span class="id" title="notation">≤</span></a> <a class="idref" href="IndProp1.html#p:131"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e<sub>25</sub>"><span class="id" title="notation">∨</span></a> <a class="idref" href="IndProp1.html#m:130"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a<sub>3</sub>"><span class="id" title="notation">≤</span></a> <a class="idref" href="IndProp1.html#q:132"><span class="id" title="variable">q</span></a>.<br/>
</div>

<div class="doc">
Hint: May be easiest to prove by induction on <span class="inlinecode"><span class="id" title="var">n</span></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Proof</span>.<br/>
<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Theorem</span> <a id="plus_le_compat_l" class="idref" href="#plus_le_compat_l"><span class="id" title="lemma">plus_le_compat_l</span></a> : <span class="id" title="keyword">∀</span> <a id="n:133" class="idref" href="#n:133"><span class="id" title="binder">n</span></a> <a id="m:134" class="idref" href="#m:134"><span class="id" title="binder">m</span></a> <a id="p:135" class="idref" href="#p:135"><span class="id" title="binder">p</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="IndProp1.html#n:133"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a<sub>3</sub>"><span class="id" title="notation">≤</span></a> <a class="idref" href="IndProp1.html#m:134"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="IndProp1.html#p:135"><span class="id" title="variable">p</span></a> <a class="idref" href="Basics.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="IndProp1.html#n:133"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a<sub>3</sub>"><span class="id" title="notation">≤</span></a> <a class="idref" href="IndProp1.html#p:135"><span class="id" title="variable">p</span></a> <a class="idref" href="Basics.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="IndProp1.html#m:134"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Theorem</span> <a id="plus_le_compat_r" class="idref" href="#plus_le_compat_r"><span class="id" title="lemma">plus_le_compat_r</span></a> : <span class="id" title="keyword">∀</span> <a id="n:136" class="idref" href="#n:136"><span class="id" title="binder">n</span></a> <a id="m:137" class="idref" href="#m:137"><span class="id" title="binder">m</span></a> <a id="p:138" class="idref" href="#p:138"><span class="id" title="binder">p</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="IndProp1.html#n:136"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a<sub>3</sub>"><span class="id" title="notation">≤</span></a> <a class="idref" href="IndProp1.html#m:137"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="IndProp1.html#n:136"><span class="id" title="variable">n</span></a> <a class="idref" href="Basics.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="IndProp1.html#p:138"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a<sub>3</sub>"><span class="id" title="notation">≤</span></a> <a class="idref" href="IndProp1.html#m:137"><span class="id" title="variable">m</span></a> <a class="idref" href="Basics.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="IndProp1.html#p:138"><span class="id" title="variable">p</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Theorem</span> <a id="le_plus_trans" class="idref" href="#le_plus_trans"><span class="id" title="lemma">le_plus_trans</span></a> : <span class="id" title="keyword">∀</span> <a id="n:139" class="idref" href="#n:139"><span class="id" title="binder">n</span></a> <a id="m:140" class="idref" href="#m:140"><span class="id" title="binder">m</span></a> <a id="p:141" class="idref" href="#p:141"><span class="id" title="binder">p</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="IndProp1.html#n:139"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a<sub>3</sub>"><span class="id" title="notation">≤</span></a> <a class="idref" href="IndProp1.html#m:140"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="IndProp1.html#n:139"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a<sub>3</sub>"><span class="id" title="notation">≤</span></a> <a class="idref" href="IndProp1.html#m:140"><span class="id" title="variable">m</span></a> <a class="idref" href="Basics.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="IndProp1.html#p:141"><span class="id" title="variable">p</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Theorem</span> <a id="n_lt_m__n_le_m" class="idref" href="#n_lt_m__n_le_m"><span class="id" title="lemma">n_lt_m__n_le_m</span></a> : <span class="id" title="keyword">∀</span> <a id="n:142" class="idref" href="#n:142"><span class="id" title="binder">n</span></a> <a id="m:143" class="idref" href="#m:143"><span class="id" title="binder">m</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="IndProp1.html#n:142"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="IndProp1.html#m:143"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="IndProp1.html#n:142"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a<sub>3</sub>"><span class="id" title="notation">≤</span></a> <a class="idref" href="IndProp1.html#m:143"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Theorem</span> <a id="plus_lt" class="idref" href="#plus_lt"><span class="id" title="lemma">plus_lt</span></a> : <span class="id" title="keyword">∀</span> <a id="n<sub>1</sub>:144" class="idref" href="#n<sub>1</sub>:144"><span class="id" title="binder">n<sub>1</sub></span></a> <a id="n<sub>2</sub>:145" class="idref" href="#n<sub>2</sub>:145"><span class="id" title="binder">n<sub>2</sub></span></a> <a id="m:146" class="idref" href="#m:146"><span class="id" title="binder">m</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="IndProp1.html#n<sub>1</sub>:144"><span class="id" title="variable">n<sub>1</sub></span></a> <a class="idref" href="Basics.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="IndProp1.html#n<sub>2</sub>:145"><span class="id" title="variable">n<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="IndProp1.html#m:146"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="IndProp1.html#n<sub>1</sub>:144"><span class="id" title="variable">n<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="IndProp1.html#m:146"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="IndProp1.html#n<sub>2</sub>:145"><span class="id" title="variable">n<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="IndProp1.html#m:146"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

<a id="lab256"></a><h4 class="section">Exercise: 4 stars, standard, optional (more_le_exercises)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a id="leb_complete" class="idref" href="#leb_complete"><span class="id" title="lemma">leb_complete</span></a> : <span class="id" title="keyword">∀</span> <a id="n:147" class="idref" href="#n:147"><span class="id" title="binder">n</span></a> <a id="m:148" class="idref" href="#m:148"><span class="id" title="binder">m</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="IndProp1.html#n:147"><span class="id" title="variable">n</span></a> <a class="idref" href="Basics.html#0f31f5c1c6b6a21a3a187247222bc9e<sub>4</sub>"><span class="id" title="notation">&lt;=?</span></a> <a class="idref" href="IndProp1.html#m:148"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Basics.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="IndProp1.html#n:147"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a<sub>3</sub>"><span class="id" title="notation">≤</span></a> <a class="idref" href="IndProp1.html#m:148"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Theorem</span> <a id="leb_correct" class="idref" href="#leb_correct"><span class="id" title="lemma">leb_correct</span></a> : <span class="id" title="keyword">∀</span> <a id="n:149" class="idref" href="#n:149"><span class="id" title="binder">n</span></a> <a id="m:150" class="idref" href="#m:150"><span class="id" title="binder">m</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="IndProp1.html#n:149"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a<sub>3</sub>"><span class="id" title="notation">≤</span></a> <a class="idref" href="IndProp1.html#m:150"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="IndProp1.html#n:149"><span class="id" title="variable">n</span></a> <a class="idref" href="Basics.html#0f31f5c1c6b6a21a3a187247222bc9e<sub>4</sub>"><span class="id" title="notation">&lt;=?</span></a> <a class="idref" href="IndProp1.html#m:150"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Basics.html#true"><span class="id" title="constructor">true</span></a>.<br/>
</div>

<div class="doc">
Hint: May be easiest to prove by induction on <span class="inlinecode"><span class="id" title="var">m</span></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
</div>

<div class="doc">
Hint: The next two can easily be proved without using <span class="inlinecode"><span class="id" title="tactic">induction</span></span>. 
</div>
<div class="code">

<span class="id" title="keyword">Theorem</span> <a id="leb_iff" class="idref" href="#leb_iff"><span class="id" title="lemma">leb_iff</span></a> : <span class="id" title="keyword">∀</span> <a id="n:151" class="idref" href="#n:151"><span class="id" title="binder">n</span></a> <a id="m:152" class="idref" href="#m:152"><span class="id" title="binder">m</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="IndProp1.html#n:151"><span class="id" title="variable">n</span></a> <a class="idref" href="Basics.html#0f31f5c1c6b6a21a3a187247222bc9e<sub>4</sub>"><span class="id" title="notation">&lt;=?</span></a> <a class="idref" href="IndProp1.html#m:152"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Basics.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="IndProp1.html#n:151"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a<sub>3</sub>"><span class="id" title="notation">≤</span></a> <a class="idref" href="IndProp1.html#m:152"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Theorem</span> <a id="leb_true_trans" class="idref" href="#leb_true_trans"><span class="id" title="lemma">leb_true_trans</span></a> : <span class="id" title="keyword">∀</span> <a id="n:153" class="idref" href="#n:153"><span class="id" title="binder">n</span></a> <a id="m:154" class="idref" href="#m:154"><span class="id" title="binder">m</span></a> <a id="o:155" class="idref" href="#o:155"><span class="id" title="binder">o</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="IndProp1.html#n:153"><span class="id" title="variable">n</span></a> <a class="idref" href="Basics.html#0f31f5c1c6b6a21a3a187247222bc9e<sub>4</sub>"><span class="id" title="notation">&lt;=?</span></a> <a class="idref" href="IndProp1.html#m:154"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Basics.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="IndProp1.html#m:154"><span class="id" title="variable">m</span></a> <a class="idref" href="Basics.html#0f31f5c1c6b6a21a3a187247222bc9e<sub>4</sub>"><span class="id" title="notation">&lt;=?</span></a> <a class="idref" href="IndProp1.html#o:155"><span class="id" title="variable">o</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Basics.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="IndProp1.html#n:153"><span class="id" title="variable">n</span></a> <a class="idref" href="Basics.html#0f31f5c1c6b6a21a3a187247222bc9e<sub>4</sub>"><span class="id" title="notation">&lt;=?</span></a> <a class="idref" href="IndProp1.html#o:155"><span class="id" title="variable">o</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Basics.html#true"><span class="id" title="constructor">true</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="code">

<span class="id" title="keyword">Module</span> <a id="R" class="idref" href="#R"><span class="id" title="module">R</span></a>.<br/>
</div>

<div class="doc">
<a id="lab257"></a><h4 class="section">Exercise: 3 stars, standard, especially useful (R_provability)</h4>
 We can define three-place relations, four-place relations,
    etc., in just the same way as binary relations.  For example,
    consider the following three-place relation on numbers: 
</div>
<div class="code">

<span class="id" title="keyword">Inductive</span> <a id="R.R" class="idref" href="#R.R"><span class="id" title="inductive">R</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="R.c1" class="idref" href="#R.c1"><span class="id" title="constructor">c<sub>1</sub></span></a>                                     : <a class="idref" href="IndProp1.html#R:156"><span class="id" title="inductive">R</span></a> 0     0     0<br/>
&nbsp;&nbsp;| <a id="R.c2" class="idref" href="#R.c2"><span class="id" title="constructor">c<sub>2</sub></span></a> <a id="m:158" class="idref" href="#m:158"><span class="id" title="binder">m</span></a> <a id="n:159" class="idref" href="#n:159"><span class="id" title="binder">n</span></a> <a id="o:160" class="idref" href="#o:160"><span class="id" title="binder">o</span></a> (<a id="H:161" class="idref" href="#H:161"><span class="id" title="binder">H</span></a> : <a class="idref" href="IndProp1.html#R:156"><span class="id" title="inductive">R</span></a> <a class="idref" href="IndProp1.html#m:158"><span class="id" title="variable">m</span></a>     <a class="idref" href="IndProp1.html#n:159"><span class="id" title="variable">n</span></a>     <a class="idref" href="IndProp1.html#o:160"><span class="id" title="variable">o</span></a>        ) : <a class="idref" href="IndProp1.html#R:156"><span class="id" title="inductive">R</span></a> (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="IndProp1.html#m:158"><span class="id" title="variable">m</span></a>) <a class="idref" href="IndProp1.html#n:159"><span class="id" title="variable">n</span></a>     (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="IndProp1.html#o:160"><span class="id" title="variable">o</span></a>)<br/>
&nbsp;&nbsp;| <a id="R.c3" class="idref" href="#R.c3"><span class="id" title="constructor">c<sub>3</sub></span></a> <a id="m:162" class="idref" href="#m:162"><span class="id" title="binder">m</span></a> <a id="n:163" class="idref" href="#n:163"><span class="id" title="binder">n</span></a> <a id="o:164" class="idref" href="#o:164"><span class="id" title="binder">o</span></a> (<a id="H:165" class="idref" href="#H:165"><span class="id" title="binder">H</span></a> : <a class="idref" href="IndProp1.html#R:156"><span class="id" title="inductive">R</span></a> <a class="idref" href="IndProp1.html#m:162"><span class="id" title="variable">m</span></a>     <a class="idref" href="IndProp1.html#n:163"><span class="id" title="variable">n</span></a>     <a class="idref" href="IndProp1.html#o:164"><span class="id" title="variable">o</span></a>        ) : <a class="idref" href="IndProp1.html#R:156"><span class="id" title="inductive">R</span></a> <a class="idref" href="IndProp1.html#m:162"><span class="id" title="variable">m</span></a>     (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="IndProp1.html#n:163"><span class="id" title="variable">n</span></a>) (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="IndProp1.html#o:164"><span class="id" title="variable">o</span></a>)<br/>
&nbsp;&nbsp;| <a id="R.c4" class="idref" href="#R.c4"><span class="id" title="constructor">c<sub>4</sub></span></a> <a id="m:166" class="idref" href="#m:166"><span class="id" title="binder">m</span></a> <a id="n:167" class="idref" href="#n:167"><span class="id" title="binder">n</span></a> <a id="o:168" class="idref" href="#o:168"><span class="id" title="binder">o</span></a> (<a id="H:169" class="idref" href="#H:169"><span class="id" title="binder">H</span></a> : <a class="idref" href="IndProp1.html#R:156"><span class="id" title="inductive">R</span></a> (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="IndProp1.html#m:166"><span class="id" title="variable">m</span></a>) (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="IndProp1.html#n:167"><span class="id" title="variable">n</span></a>) (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="IndProp1.html#o:168"><span class="id" title="variable">o</span></a>))) : <a class="idref" href="IndProp1.html#R:156"><span class="id" title="inductive">R</span></a> <a class="idref" href="IndProp1.html#m:166"><span class="id" title="variable">m</span></a>     <a class="idref" href="IndProp1.html#n:167"><span class="id" title="variable">n</span></a>     <a class="idref" href="IndProp1.html#o:168"><span class="id" title="variable">o</span></a><br/>
&nbsp;&nbsp;| <a id="R.c5" class="idref" href="#R.c5"><span class="id" title="constructor">c<sub>5</sub></span></a> <a id="m:170" class="idref" href="#m:170"><span class="id" title="binder">m</span></a> <a id="n:171" class="idref" href="#n:171"><span class="id" title="binder">n</span></a> <a id="o:172" class="idref" href="#o:172"><span class="id" title="binder">o</span></a> (<a id="H:173" class="idref" href="#H:173"><span class="id" title="binder">H</span></a> : <a class="idref" href="IndProp1.html#R:156"><span class="id" title="inductive">R</span></a> <a class="idref" href="IndProp1.html#m:170"><span class="id" title="variable">m</span></a>     <a class="idref" href="IndProp1.html#n:171"><span class="id" title="variable">n</span></a>     <a class="idref" href="IndProp1.html#o:172"><span class="id" title="variable">o</span></a>        ) : <a class="idref" href="IndProp1.html#R:156"><span class="id" title="inductive">R</span></a> <a class="idref" href="IndProp1.html#n:171"><span class="id" title="variable">n</span></a>     <a class="idref" href="IndProp1.html#m:170"><span class="id" title="variable">m</span></a>     <a class="idref" href="IndProp1.html#o:172"><span class="id" title="variable">o</span></a><br/>
.<br/>
</div>

<div class="doc">
<ul class="doclist">
<li> Which of the following propositions are provable?
<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">R</span></span> <span class="inlinecode">1</span> <span class="inlinecode">1</span> <span class="inlinecode">2</span>

</li>
<li> <span class="inlinecode"><span class="id" title="var">R</span></span> <span class="inlinecode">2</span> <span class="inlinecode">2</span> <span class="inlinecode">6</span>

<div class="paragraph"> </div>


</li>
</ul>

</li>
<li> If we dropped constructor <span class="inlinecode"><span class="id" title="var">c<sub>5</sub></span></span> from the definition of <span class="inlinecode"><span class="id" title="var">R</span></span>,
      would the set of provable propositions change?  Briefly (1
      sentence) explain your answer.

<div class="paragraph"> </div>


</li>
<li> If we dropped constructor <span class="inlinecode"><span class="id" title="var">c<sub>4</sub></span></span> from the definition of <span class="inlinecode"><span class="id" title="var">R</span></span>,
      would the set of provable propositions change?  Briefly (1
      sentence) explain your answer. 

</li>
</ul>
</div>
<div class="code">

<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span><br/><hr class='doublespaceincode'/>
<span class="comment">(*&nbsp;Do&nbsp;not&nbsp;modify&nbsp;the&nbsp;following&nbsp;line:&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="R.manual_grade_for_R_provability" class="idref" href="#R.manual_grade_for_R_provability"><span class="id" title="definition">manual_grade_for_R_provability</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="Poly.html#11c698c8685bb8ab1cf725545c085ac<sub>4</sub>"><span class="id" title="notation">×</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) := <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

<a id="lab258"></a><h4 class="section">Exercise: 3 stars, standard, optional (R_fact)</h4>
 The relation <span class="inlinecode"><span class="id" title="var">R</span></span> above actually encodes a familiar function.
    Figure out which function; then state and prove this equivalence
    in Coq. 
</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="R.fR" class="idref" href="#R.fR"><span class="id" title="definition">fR</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;REPLACE&nbsp;THIS&nbsp;LINE&nbsp;WITH&nbsp;":=&nbsp;_your_definition_&nbsp;."&nbsp;*)</span>. <span class="id" title="var">Admitted</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Theorem</span> <a id="R.R_equiv_fR" class="idref" href="#R.R_equiv_fR"><span class="id" title="lemma">R_equiv_fR</span></a> : <span class="id" title="keyword">∀</span> <a id="m:174" class="idref" href="#m:174"><span class="id" title="binder">m</span></a> <a id="n:175" class="idref" href="#n:175"><span class="id" title="binder">n</span></a> <a id="o:176" class="idref" href="#o:176"><span class="id" title="binder">o</span></a>, <a class="idref" href="IndProp1.html#R.R"><span class="id" title="inductive">R</span></a> <a class="idref" href="IndProp1.html#m:174"><span class="id" title="variable">m</span></a> <a class="idref" href="IndProp1.html#n:175"><span class="id" title="variable">n</span></a> <a class="idref" href="IndProp1.html#o:176"><span class="id" title="variable">o</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="IndProp1.html#R.fR"><span class="id" title="axiom">fR</span></a> <a class="idref" href="IndProp1.html#m:174"><span class="id" title="variable">m</span></a> <a class="idref" href="IndProp1.html#n:175"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="IndProp1.html#o:176"><span class="id" title="variable">o</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="code">

<span class="id" title="keyword">End</span> <a class="idref" href="IndProp1.html#R"><span class="id" title="module">R</span></a>.<br/>
</div>

<div class="doc">
<a id="lab259"></a><h4 class="section">Exercise: 4 stars, advanced (subsequence)</h4>
 A list is a <i>subsequence</i> of another list if all of the elements
    in the first list occur in the same order in the second list,
    possibly with some extra elements in between. For example,
<br/>
<span class="inlinecode">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[1;2;3]
</span>    is a subsequence of each of the lists
<br/>
<span class="inlinecode">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[1;2;3]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[1;1;1;2;2;3]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[1;2;7;3]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[5;6;1;9;9;2;7;3;8]
</span>    but it is <i>not</i> a subsequence of any of the lists
<br/>
<span class="inlinecode">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[1;2]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[1;3]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[5;6;2;1;7;3;8].
</span><ul class="doclist">
<li> Define an inductive proposition <span class="inlinecode"><span class="id" title="var">subseq</span></span> on <span class="inlinecode"><span class="id" title="var">list</span></span> <span class="inlinecode"><span class="id" title="var">nat</span></span> that
      captures what it means to be a subsequence. (Hint: You'll need
      three cases.)

<div class="paragraph"> </div>


</li>
<li> Prove <span class="inlinecode"><span class="id" title="var">subseq_refl</span></span> that subsequence is reflexive, that is,
      any list is a subsequence of itself.

<div class="paragraph"> </div>


</li>
<li> Prove <span class="inlinecode"><span class="id" title="var">subseq_app</span></span> that for any lists <span class="inlinecode"><span class="id" title="var">l<sub>1</sub></span></span>, <span class="inlinecode"><span class="id" title="var">l<sub>2</sub></span></span>, and <span class="inlinecode"><span class="id" title="var">l<sub>3</sub></span></span>,
      if <span class="inlinecode"><span class="id" title="var">l<sub>1</sub></span></span> is a subsequence of <span class="inlinecode"><span class="id" title="var">l<sub>2</sub></span></span>, then <span class="inlinecode"><span class="id" title="var">l<sub>1</sub></span></span> is also a subsequence
      of <span class="inlinecode"><span class="id" title="var">l<sub>2</sub></span></span> <span class="inlinecode">++</span> <span class="inlinecode"><span class="id" title="var">l<sub>3</sub></span></span>.

<div class="paragraph"> </div>


</li>
<li> (Harder) Prove <span class="inlinecode"><span class="id" title="var">subseq_trans</span></span> that subsequence is
      transitive -- that is, if <span class="inlinecode"><span class="id" title="var">l<sub>1</sub></span></span> is a subsequence of <span class="inlinecode"><span class="id" title="var">l<sub>2</sub></span></span> and <span class="inlinecode"><span class="id" title="var">l<sub>2</sub></span></span>
      is a subsequence of <span class="inlinecode"><span class="id" title="var">l<sub>3</sub></span></span>, then <span class="inlinecode"><span class="id" title="var">l<sub>1</sub></span></span> is a subsequence of <span class="inlinecode"><span class="id" title="var">l<sub>3</sub></span></span>. 

</li>
</ul>
</div>
<div class="code">

<span class="id" title="keyword">Inductive</span> <a id="subseq" class="idref" href="#subseq"><span class="id" title="inductive">subseq</span></a> : <a class="idref" href="Poly.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="Poly.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span><br/>
.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Theorem</span> <a id="subseq_refl" class="idref" href="#subseq_refl"><span class="id" title="lemma">subseq_refl</span></a> : <span class="id" title="keyword">∀</span> (<a id="l:179" class="idref" href="#l:179"><span class="id" title="binder">l</span></a> : <a class="idref" href="Poly.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>), <a class="idref" href="IndProp1.html#subseq"><span class="id" title="inductive">subseq</span></a> <a class="idref" href="IndProp1.html#l:179"><span class="id" title="variable">l</span></a> <a class="idref" href="IndProp1.html#l:179"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Theorem</span> <a id="subseq_app" class="idref" href="#subseq_app"><span class="id" title="lemma">subseq_app</span></a> : <span class="id" title="keyword">∀</span> (<a id="l<sub>1</sub>:180" class="idref" href="#l<sub>1</sub>:180"><span class="id" title="binder">l<sub>1</sub></span></a> <a id="l<sub>2</sub>:181" class="idref" href="#l<sub>2</sub>:181"><span class="id" title="binder">l<sub>2</sub></span></a> <a id="l<sub>3</sub>:182" class="idref" href="#l<sub>3</sub>:182"><span class="id" title="binder">l<sub>3</sub></span></a> : <a class="idref" href="Poly.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="IndProp1.html#subseq"><span class="id" title="inductive">subseq</span></a> <a class="idref" href="IndProp1.html#l<sub>1</sub>:180"><span class="id" title="variable">l<sub>1</sub></span></a> <a class="idref" href="IndProp1.html#l<sub>2</sub>:181"><span class="id" title="variable">l<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="IndProp1.html#subseq"><span class="id" title="inductive">subseq</span></a> <a class="idref" href="IndProp1.html#l<sub>1</sub>:180"><span class="id" title="variable">l<sub>1</sub></span></a> (<a class="idref" href="IndProp1.html#l<sub>2</sub>:181"><span class="id" title="variable">l<sub>2</sub></span></a> <a class="idref" href="Poly.html#f03f7a04ef75ff3ac66ca5c23554e52e"><span class="id" title="notation">++</span></a> <a class="idref" href="IndProp1.html#l<sub>3</sub>:182"><span class="id" title="variable">l<sub>3</sub></span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Theorem</span> <a id="subseq_trans" class="idref" href="#subseq_trans"><span class="id" title="lemma">subseq_trans</span></a> : <span class="id" title="keyword">∀</span> (<a id="l<sub>1</sub>:183" class="idref" href="#l<sub>1</sub>:183"><span class="id" title="binder">l<sub>1</sub></span></a> <a id="l<sub>2</sub>:184" class="idref" href="#l<sub>2</sub>:184"><span class="id" title="binder">l<sub>2</sub></span></a> <a id="l<sub>3</sub>:185" class="idref" href="#l<sub>3</sub>:185"><span class="id" title="binder">l<sub>3</sub></span></a> : <a class="idref" href="Poly.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="IndProp1.html#subseq"><span class="id" title="inductive">subseq</span></a> <a class="idref" href="IndProp1.html#l<sub>1</sub>:183"><span class="id" title="variable">l<sub>1</sub></span></a> <a class="idref" href="IndProp1.html#l<sub>2</sub>:184"><span class="id" title="variable">l<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="IndProp1.html#subseq"><span class="id" title="inductive">subseq</span></a> <a class="idref" href="IndProp1.html#l<sub>2</sub>:184"><span class="id" title="variable">l<sub>2</sub></span></a> <a class="idref" href="IndProp1.html#l<sub>3</sub>:185"><span class="id" title="variable">l<sub>3</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="IndProp1.html#subseq"><span class="id" title="inductive">subseq</span></a> <a class="idref" href="IndProp1.html#l<sub>1</sub>:183"><span class="id" title="variable">l<sub>1</sub></span></a> <a class="idref" href="IndProp1.html#l<sub>3</sub>:185"><span class="id" title="variable">l<sub>3</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Hint:&nbsp;be&nbsp;careful&nbsp;about&nbsp;what&nbsp;you&nbsp;are&nbsp;doing&nbsp;induction&nbsp;on&nbsp;and&nbsp;which<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;other&nbsp;things&nbsp;need&nbsp;to&nbsp;be&nbsp;generalized...&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

<a id="lab260"></a><h4 class="section">Exercise: 2 stars, standard, optional (R_provability2)</h4>
 Suppose we give Coq the following definition:
<br/>
<span class="inlinecode">&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <span class="id" title="var">R</span> : <span class="id" title="var">nat</span> → <span class="id" title="var">list</span> <span class="id" title="var">nat</span> → <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">c<sub>1</sub></span>                    : <span class="id" title="var">R</span> 0     []<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">c<sub>2</sub></span> <span class="id" title="var">n</span> <span class="id" title="var">l</span> (<span class="id" title="var">H</span>: <span class="id" title="var">R</span> <span class="id" title="var">n</span>     <span class="id" title="var">l</span>) : <span class="id" title="var">R</span> (<span class="id" title="var">S</span> <span class="id" title="var">n</span>) (<span class="id" title="var">n</span> :: <span class="id" title="var">l</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">c<sub>3</sub></span> <span class="id" title="var">n</span> <span class="id" title="var">l</span> (<span class="id" title="var">H</span>: <span class="id" title="var">R</span> (<span class="id" title="var">S</span> <span class="id" title="var">n</span>) <span class="id" title="var">l</span>) : <span class="id" title="var">R</span> <span class="id" title="var">n</span>     <span class="id" title="var">l</span>.
</span>    Which of the following propositions are provable?

<div class="paragraph"> </div>

<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">R</span></span> <span class="inlinecode">2</span> <span class="inlinecode">[1;0]</span>

</li>
<li> <span class="inlinecode"><span class="id" title="var">R</span></span> <span class="inlinecode">1</span> <span class="inlinecode">[1;2;1;0]</span>

</li>
<li> <span class="inlinecode"><span class="id" title="var">R</span></span> <span class="inlinecode">6</span> <span class="inlinecode">[3;2;1;0]</span>  

</li>
</ul>
</div>
<div class="code">

<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span><br/>
<font size=-2>&#9744;</font>
</div>

<div class="code">

<span class="comment">(*&nbsp;2023-06-22&nbsp;16:20&nbsp;*)</span><br/>
</div>
</div>

<div id="footer">
<hr/><a href="coqindex.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>